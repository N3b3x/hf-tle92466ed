

<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  <link rel="stylesheet" href="/hf-tle92466ed-driver/preview/assets/css/just-the-docs-default.css">

  <link rel="stylesheet" href="/hf-tle92466ed-driver/preview/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet">

  <style id="jtd-nav-activation">
  

    .site-nav > ul.nav-list:first-child > li > a,
    .site-nav > ul.nav-list:first-child > li > ul > li > a,
    
    .site-nav > ul.nav-list:first-child > li > ul > li > ul > li:not(:nth-child(2)) > a,
    .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > ul > li a {
      background-image: none;
    }

    .site-nav > ul.nav-list:not(:first-child) a,
    .site-nav li.external a {
      background-image: none;
    }

    .site-nav > ul.nav-list:first-child > li:nth-child(1) > ul > li:nth-child(1) > ul > li:nth-child(2) > a {
      font-weight: 600;
      text-decoration: none;
    }.site-nav > ul.nav-list:first-child > li:nth-child(1) > button svg,
    .site-nav > ul.nav-list:first-child > li:nth-child(1) > ul > li:nth-child(1) > button svg,
    .site-nav > ul.nav-list:first-child > li:nth-child(1) > ul > li:nth-child(1) > ul > li:nth-child(2) > button svg {
      transform: rotate(-90deg);
    }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(1) > ul.nav-list,
    .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(1) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list,
    .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(1) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list > li.nav-list-item:nth-child(2) > ul.nav-list {
      display: block;
    }
  </style>

  

  
    <script src="/hf-tle92466ed-driver/preview/assets/js/vendor/lunr.min.js"></script>
  

  <script src="/hf-tle92466ed-driver/preview/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  



  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>📡 SPI Protocol | TLE92466ED Driver - preview</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="📡 SPI Protocol" />
<meta name="author" content="N3b3x" />
<meta property="og:locale" content="en" />
<meta name="description" content="32-bit SPI communication protocol with CRC-8 (SAE J1850)" />
<meta property="og:description" content="32-bit SPI communication protocol with CRC-8 (SAE J1850)" />
<link rel="canonical" href="https://n3b3x.github.io/hf-tle92466ed-driver/preview/docs/02_SPI_Protocol/" />
<meta property="og:url" content="https://n3b3x.github.io/hf-tle92466ed-driver/preview/docs/02_SPI_Protocol/" />
<meta property="og:site_name" content="TLE92466ED Driver - preview" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="📡 SPI Protocol" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"N3b3x","url":"https://github.com/n3b3x"},"description":"32-bit SPI communication protocol with CRC-8 (SAE J1850)","headline":"📡 SPI Protocol","url":"https://n3b3x.github.io/hf-tle92466ed-driver/preview/docs/02_SPI_Protocol/"}</script>
<!-- End Jekyll SEO tag -->


  <!-- Custom head content for TLE92466ED driver documentation -->
<link rel="stylesheet" href="/hf-tle92466ed-driver/preview/assets/css/custom.css">
<script src="/hf-tle92466ed-driver/preview/assets/js/custom.js" defer></script>

<!-- Version selector for multi-version documentation -->
<!-- Version Selector Component for Multi-Version Documentation -->
<div class="version-selector">
  <div class="version-dropdown">
    <label for="version-select" class="version-label">
      <span class="version-icon">📚</span>
      Version:
    </label>
    <select id="version-select" class="version-select" onchange="switchVersion(this.value)">
      <option value="latest" data-url="/hf-tle92466ed-driver/">Development (main)</option>
      <option value="v2.0.0" data-url="/hf-tle92466ed-driver/v2.0.0/">v2.0.0 (Latest Stable)</option>
    </select>
  </div>
  
  <div class="version-info">
    <span class="current-version" id="current-version">Latest (main)</span>
    <span class="version-badge" id="version-badge">dev</span>
  </div>
</div>

<script>
// Version switching logic
function switchVersion(version) {
  const select = document.getElementById('version-select');
  const selectedOption = select.options[select.selectedIndex];
  const targetUrl = selectedOption.getAttribute('data-url');
  
  if (targetUrl) {
    // Update current page URL to new version
    const currentPath = window.location.pathname;
    const baseUrl = window.location.origin;
    
    // Extract the path after the version prefix
    let newPath = currentPath;
    if (currentPath.includes('/hf-tle92466ed-driver/')) {
      const pathParts = currentPath.split('/hf-tle92466ed-driver/');
      if (pathParts.length > 1) {
        newPath = pathParts[1];
      }
    }
    
    // Construct new URL
    const newUrl = baseUrl + targetUrl + newPath;
    window.location.href = newUrl;
  }
}

// Set current version based on URL
document.addEventListener('DOMContentLoaded', function() {
  const currentPath = window.location.pathname;
  const versionSelect = document.getElementById('version-select');
  const currentVersionSpan = document.getElementById('current-version');
  const versionBadge = document.getElementById('version-badge');
  
  // Determine current version from URL
  let currentVersion = 'latest';
  let versionType = 'dev';
  
  if (currentPath.includes('/stable/')) {
    currentVersion = 'stable';
    versionType = 'stable';
  } else if (currentPath.includes('/v2.0.0/')) {
    currentVersion = 'v2.0.0';
    versionType = 'release';
  }
  
  // Update UI
  versionSelect.value = currentVersion;
  currentVersionSpan.textContent = currentVersion === 'latest' ? 'Latest (main)' : 
                                  currentVersion === 'stable' ? 'Stable (latest release)' : 
                                  currentVersion;
  
  // Update badge
  versionBadge.textContent = versionType;
  versionBadge.className = 'version-badge ' + versionType;
});
</script>

<style>
.version-selector {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 0.75rem 1rem;
  background: var(--nav-child-link-bg);
  border: 1px solid var(--border-color);
  border-radius: 6px;
  margin: 1rem 0;
  font-size: 0.9rem;
}

.version-dropdown {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.version-label {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  font-weight: 500;
  color: var(--body-text-color);
}

.version-icon {
  font-size: 1rem;
}

.version-select {
  padding: 0.25rem 0.5rem;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  background: var(--body-bg);
  color: var(--body-text-color);
  font-size: 0.9rem;
  min-width: 150px;
}

.version-select:focus {
  outline: 2px solid var(--link-color);
  outline-offset: 2px;
}

.version-info {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-left: auto;
}

.current-version {
  font-weight: 500;
  color: var(--body-text-color);
}

.version-badge {
  padding: 0.125rem 0.5rem;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
}

.version-badge.dev {
  background: #e3f2fd;
  color: #1976d2;
  border: 1px solid #bbdefb;
}

.version-badge.stable {
  background: #e8f5e8;
  color: #2e7d32;
  border: 1px solid #c8e6c9;
}

.version-badge.release {
  background: #fff3e0;
  color: #f57c00;
  border: 1px solid #ffcc02;
}

@media (max-width: 768px) {
  .version-selector {
    flex-direction: column;
    align-items: stretch;
    gap: 0.5rem;
  }
  
  .version-info {
    margin-left: 0;
    justify-content: center;
  }
}
</style>



<!-- Version information display -->
<!-- Version Information Display Component -->
<div class="version-info-display">
  <div class="version-details">
    <span class="version-label">Version:</span>
    <span class="version-value">2.0.0</span>
    <span class="version-badge version-stable">stable</span>
  </div>
  
  <div class="version-meta">
    <span class="branch-info">
      <span class="branch-icon">🌿</span>
      <span class="branch-name">main</span>
    </span>
    
    <span class="build-info">
      <span class="build-icon">🔨</span>
      <span class="build-date">2025-10-31</span>
    </span>
  </div>
</div>

<style>
.version-info-display {
  background: var(--nav-child-link-bg);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 1rem;
  margin: 1rem 0;
  font-size: 0.9rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.version-details {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.version-label {
  font-weight: 500;
  color: var(--body-text-color);
}

.version-value {
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  font-weight: 600;
  color: var(--link-color);
  background: var(--code-bg);
  padding: 0.125rem 0.5rem;
  border-radius: 4px;
  border: 1px solid var(--border-color);
}

.version-badge {
  padding: 0.125rem 0.5rem;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.version-badge.development {
  background: #e3f2fd;
  color: #1976d2;
  border: 1px solid #bbdefb;
}

.version-badge.stable {
  background: #e8f5e8;
  color: #2e7d32;
  border: 1px solid #c8e6c9;
}

.version-badge.release {
  background: #fff3e0;
  color: #f57c00;
  border: 1px solid #ffcc02;
}

.version-meta {
  display: flex;
  align-items: center;
  gap: 1rem;
  flex-wrap: wrap;
}

.branch-info,
.build-info {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  color: var(--body-text-color);
  font-size: 0.85rem;
}

.branch-icon,
.build-icon {
  font-size: 0.9rem;
}

.branch-name {
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  font-weight: 500;
}

.build-date {
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  font-weight: 500;
}

@media (max-width: 768px) {
  .version-info-display {
    flex-direction: column;
    align-items: stretch;
    text-align: center;
  }
  
  .version-details,
  .version-meta {
    justify-content: center;
  }
  
  .version-meta {
    margin-top: 0.5rem;
    padding-top: 0.5rem;
    border-top: 1px solid var(--border-color);
  }
}
</style>





</head>

<body>
  <a class="skip-to-main" href="#main-content">Skip to main content</a>
  <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="svg-link" viewBox="0 0 24 24">
  <title>Link</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
  </svg>
</symbol>

  <symbol id="svg-menu" viewBox="0 0 24 24">
  <title>Menu</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
    <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
  </svg>
</symbol>

  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
  <title>Expand</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
    <polyline points="9 18 15 12 9 6"></polyline>
  </svg>
</symbol>

  <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE -->
<symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link">
  <title id="svg-external-link-title">(external link)</title>
  <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>
</symbol>

  
    <symbol id="svg-doc" viewBox="0 0 24 24">
  <title>Document</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
  </svg>
</symbol>

    <symbol id="svg-search" viewBox="0 0 24 24">
  <title>Search</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
  </svg>
</symbol>

  
  
    <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md -->
<symbol id="svg-copy" viewBox="0 0 16 16">
  <title>Copy</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
    <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
  </svg>
</symbol>
<symbol id="svg-copied" viewBox="0 0 16 16">
  <title>Copied</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16">
    <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/>
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/>
  </svg>
</symbol>

  
</svg>

  
    <div class="side-bar">
  <div class="site-header" role="banner">
    <a href="/hf-tle92466ed-driver/preview/" class="site-title lh-tight">
  TLE92466ED Driver - preview

</a>
    <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false">
      <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg>
    </button>
  </div>

  <nav aria-label="Main" id="site-nav" class="site-nav">
  
  
    <ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in 🔧 HardFOC TLE92466ED Driver category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-tle92466ed-driver/preview/" class="nav-list-link">🔧 HardFOC TLE92466ED Driver</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in 📚 Documentation category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-tle92466ed-driver/preview/docs/" class="nav-list-link">📚 Documentation</a><ul class="nav-list"><li class="nav-list-item"><a href="/hf-tle92466ed-driver/preview/docs/01_IC_Overview/" class="nav-list-link">🔌 IC Overview</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/preview/docs/02_SPI_Protocol/" class="nav-list-link">📡 SPI Protocol</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/preview/docs/03_Register_Map/" class="nav-list-link">📋 Register Map</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/preview/docs/04_Current_Control/" class="nav-list-link">⚡ Current Control</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/preview/docs/05_Channel_Modes/" class="nav-list-link">🎛️ Channel Modes</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/preview/docs/06_Diagnostics/" class="nav-list-link">🛡️ Diagnostics</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/preview/docs/07_Driver_API/" class="nav-list-link">🔧 Driver API</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/preview/docs/08_HAL_Implementation/" class="nav-list-link">🔌 HAL Implementation</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/preview/docs/09_Usage_Examples/" class="nav-list-link">💻 Usage Examples</a></li></ul></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/preview/CONTRIBUTING/" class="nav-list-link">🤝 Contributing</a></li></ul></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/preview/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/preview/examples/esp32/docs/README_BASIC_USAGE.html" class="nav-list-link">Basic Usage Test Suite - TLE92466ED ESP32-C6</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/preview/examples/esp32/docs/README_CONFIGURATION.html" class="nav-list-link">ESP32 Examples Configuration Guide</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/preview/examples/arduino/" class="nav-list-link">TLE92466ED Arduino Examples</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/preview/examples/esp32/components/tle92466ed-espidf/" class="nav-list-link">TLE92466ED ESP-IDF Component</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/preview/examples/esp32/docs/" class="nav-list-link">TLE92466ED ESP32 Examples Documentation</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/preview/examples/esp32/" class="nav-list-link">TLE92466ED ESP32-C6 Examples</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/preview/examples/esp32/docs/README_TEST_FRAMEWORK.html" class="nav-list-link">TLE92466ED Test Framework Documentation</a></li></ul>
  
</nav>




  
  
    <footer class="site-nav-footer">
  <div class="nav-footer-links">
    <a href="https://github.com/n3b3x/hf-internal-interface-wrap" class="nav-footer-link" aria-label="GitHub Repository">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
      </svg>
      GitHub
    </a>
    <a href="https://github.com/n3b3x/hf-internal-interface-wrap/issues" class="nav-footer-link" aria-label="Report Issues">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
      </svg>
      Issues
    </a>
  </div>
</footer>


  
</div>

  
  <div class="main" id="top">
    <div id="main-header" class="main-header">
  
    

<div class="search" role="search">
  <div class="search-input-wrap">
    <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search workflows, examples, and guides..." aria-label="Search workflows, examples, and guides..." autocomplete="off">
    <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
  </div>
  <div id="search-results" class="search-results"></div>
</div>

  
  
  
    <nav aria-label="Auxiliary" class="aux-nav">
  <ul class="aux-nav-list">
    
      <li class="aux-nav-list-item">
        <a href="/hf-tle92466ed-driver/preview/api/index.html" class="site-button"
          
        >
          📖 API Reference
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="https://github.com/n3b3x/hf-tle92466ed-driver" class="site-button"
          
        >
          📚 GitHub Repository
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="https://github.com/n3b3x/hf-tle92466ed-driver/issues" class="site-button"
          
        >
          🐛 Report Issues
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="https://github.com/n3b3x/hf-tle92466ed-driver/stargazers" class="site-button"
          
        >
          ⭐ Star on GitHub
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="https://n3b3x.github.io/hf-tle92466ed-driver/doxygen/html/" class="site-button"
          
        >
          📖 API Documentation
        </a>
      </li>
    
  </ul>
</nav>

  
</div>

    <div class="main-content-wrap">
      <nav aria-label="Breadcrumb" class="breadcrumb-nav">
  <ol class="breadcrumb-nav-list">
    <li class="breadcrumb-nav-list-item"><a href="/hf-tle92466ed-driver/preview/">🔧 HardFOC TLE92466ED Driver</a></li>
    <li class="breadcrumb-nav-list-item"><a href="/hf-tle92466ed-driver/preview/docs/">📚 Documentation</a></li>
    <li class="breadcrumb-nav-list-item"><span>📡 SPI Protocol</span></li>
  </ol>
</nav>


      <div id="main-content" class="main-content">
        <main>
          
            <h1 id="spi-protocol">
  
  
    <a href="#spi-protocol" class="anchor-heading" aria-labelledby="spi-protocol"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> SPI Protocol
  
  
</h1>
    
<h2 id="overview">
  
  
    <a href="#overview" class="anchor-heading" aria-labelledby="overview"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Overview
  
  
</h2>
    

<p>The TLE92466ED uses a 32-bit SPI protocol with 8-bit CRC (SAE J1850) for robust
communication. This is a full-duplex, synchronous serial interface operating in
SPI Mode 0.</p>
<h3 id="protocol-specifications">
  
  
    <a href="#protocol-specifications" class="anchor-heading" aria-labelledby="protocol-specifications"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Protocol Specifications
  
  
</h3>
    

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Value</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Frame Size</td>
      <td>32 bits</td>
      <td>Single transaction</td>
    </tr>
    <tr>
      <td>CRC</td>
      <td>8-bit SAE J1850</td>
      <td>Polynomial 0x1D</td>
    </tr>
    <tr>
      <td>Mode</td>
      <td>0 (CPOL=0, CPHA=0)</td>
      <td>Data sampled on rising edge</td>
    </tr>
    <tr>
      <td>Frequency</td>
      <td>100 kHz - 10 MHz</td>
      <td>Typical: 1-2 MHz</td>
    </tr>
    <tr>
      <td>Bit Order</td>
      <td>MSB first</td>
      <td>Most significant bit first</td>
    </tr>
    <tr>
      <td>CS Polarity</td>
      <td>Active low</td>
      <td>Pull low during transfer</td>
    </tr>
  </tbody>
</table></div>
<h2 id="frame-structure">
  
  
    <a href="#frame-structure" class="anchor-heading" aria-labelledby="frame-structure"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Frame Structure
  
  
</h2>
    
<h3 id="32-bit-frame-layout">
  
  
    <a href="#32-bit-frame-layout" class="anchor-heading" aria-labelledby="32-bit-frame-layout"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 32-Bit Frame Layout
  
  
</h3>
    

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
</pre></td><td class="rouge-code"><pre>   Bit Position:  31  30  29  28  27  26  25  24  23  22  21  20  19  18  17  16  15 ...  0
                 ┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬─────────┐
   MOSI (Write): │              CRC (8)              │    ADDR (7)   │R/W│   DATA (16)   │
                 └───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴─────────┘
                 
                 ┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬─────────┐
   MISO (Reply): │              CRC (8)              │RM │ STATUS(5) │R/W│   DATA (16)   │
                 └───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴─────────┘

   Field Breakdown:
   ┌──────────────┬──────────┬─────────────────────────────────────────────┐
   │ Bits [31:24] │ CRC      │ 8-bit CRC checksum (SAE J1850)              │
   │ Bits [23:17] │ ADDRESS  │ 7-bit register address (MOSI)               │
   │ Bits [23:22] │ RPLY_MOD │ Reply mode indicator (MISO)                 │
   │ Bits [21:17] │ STATUS   │ 5-bit status field (MISO)                   │
   │ Bit  [16]    │ R/W      │ 1=Write, 0=Read                             │
   │ Bits [15:0]  │ DATA     │ 16-bit data payload                         │
   └──────────────┴──────────┴─────────────────────────────────────────────┘
```text

### MOSI (Master Out, Slave In) - Write Frame

```text
    Write Transaction Format:

    31                24  23        17  16  15                 0
    ┌───────────────────┬─────────────┬───┬───────────────────┐
    │     CRC (8)       │  ADDR (7)   │ 1 │    DATA (16)      │
    └───────────────────┴─────────────┴───┴───────────────────┘
         Computed            Target       Write    Value to
         checksum           register      flag     write

    Example: Write 0x1234 to register 0x0002 (GLOBAL_CONFIG)
    
    Step 1: Build frame without CRC
      Bits [23:17] = 0x01      (0x0002 &gt;&gt; 3 = 0x01, upper 7 bits)
      Bit  [16]    = 1         (Write operation)
      Bits [15:0]  = 0x1234    (Data to write)
      
    Step 2: Calculate CRC on bits [23:0]
      Input: 0x00 0x02 0x34 (3 bytes, address + R/W + data)
      CRC  : 0xXX (computed)
      
    Step 3: Complete frame
      [31:24] = CRC, [23:0] = 0x012341234
```text

### MOSI (Master Out, Slave In) - Read Frame

```text
    Read Transaction Format:

    31                24  23        17  16  15                 0
    ┌───────────────────┬─────────────┬───┬───────────────────┐
    │     CRC (8)       │  Don't Care │ 0 │    ADDRESS (16)   │
    └───────────────────┴─────────────┴───┴───────────────────┘
         Computed           Ignored    Read    Full register
         checksum                      flag    address

    Example: Read register 0x0100 (CH0 SETPOINT)
    
    Step 1: Build frame without CRC
      Bits [23:17] = Don't care
      Bit  [16]    = 0         (Read operation)
      Bits [15:0]  = 0x0100    (Register address)
      
    Step 2: Calculate CRC on bits [23:0]
      Input: 0x00 0x00 0x01 0x00 (3 bytes)
      CRC  : 0xXX (computed)
      
    Step 3: Complete frame
      [31:24] = CRC, [23:0] = 0x00000100
```text

### MISO (Master In, Slave Out) - Reply Frame Types

#### Type 1: 16-Bit Reply Frame (Standard)

```text
    31                24  23 22  21        17  16  15                 0
    ┌───────────────────┬──┬──┬────────────┬───┬───────────────────┐
    │     CRC (8)       │ 0│ 0│ STATUS (5) │R/W│    DATA (16)      │
    └───────────────────┴──┴──┴────────────┴───┴───────────────────┘
         Computed        Reply  Status      Echo   Register
         checksum        Mode   flags       R/W    contents

    Reply Mode [23:22] = 00b: Standard 16-bit data
    Status [21:17]: Error/status indication
    R/W [16]: Echoes request R/W bit
    Data [15:0]: Register value or last write acknowledgment
```text

#### Type 2: 22-Bit Reply Frame (Extended Data)

```text
    31                24  23 22  21                             0
    ┌───────────────────┬──┬──┬──────────────────────────────────┐
    │     CRC (8)       │ 0│ 1│       EXTENDED DATA (22)        │
    └───────────────────┴──┴──┴──────────────────────────────────┘
         Computed        Reply     Extended feedback data
         checksum        Mode      (e.g., current measurements)

    Reply Mode [23:22] = 01b: Extended 22-bit data
    Used for: High-resolution feedback registers
```text

#### Type 3: Critical Fault Frame

```text
    31                24  23 22  21                             0
    ┌───────────────────┬──┬──┬──────────────────────────────────┐
    │     CRC (8)       │ 1│ 0│        Don't Care               │
    └───────────────────┴──┴──┴──────────────────────────────────┘
         Computed        Reply     Undefined
         checksum        Mode

    Reply Mode [23:22] = 10b: Critical fault condition
    Indicates: Severe hardware fault, device in safe state
```text

## SPI Status Codes

### Status Field [21:17] Encoding

```text
    Status Bits: 5-bit field in MISO reply

    ┌──────┬─────────────────────────────────────────────────┐
    │ Code │ Meaning                                         │
    ├──────┼─────────────────────────────────────────────────┤
    │00000 │ No error - transaction successful               │
    │00001 │ SPI frame error - invalid frame format          │
    │00010 │ Parity/CRC error - checksum mismatch            │
    │00011 │ Write to read-only register - access denied     │
    │00100 │ Internal bus fault - hardware issue             │
    │00101 │ Internal bus fault - alternate code             │
    │00110 │ Internal bus fault - alternate code             │
    │xxxxx │ Other codes reserved                            │
    └──────┴─────────────────────────────────────────────────┘

    Priority: Lower encoding = higher priority
    (If multiple errors, lowest code is reported)
```text

## CRC Calculation

### SAE J1850 CRC-8 Algorithm

```text
    Polynomial: 0x1D (x^8 + x^4 + x^3 + x^2 + 1)
    Init Value: 0xFF
    Final XOR:  0xFF
    Bit Order:  MSB first

    Algorithm Pseudocode:
    ┌────────────────────────────────────────────────────────┐
    │ function calculate_crc8(data[], length):               │
    │     crc = 0xFF              // Initialize              │
    │     for each byte in data:                             │
    │         crc = crc XOR byte  // Mix in data byte        │
    │         for bit = 0 to 7:   // Process 8 bits          │
    │             if crc &amp; 0x80:  // Check MSB               │
    │                 crc = (crc &lt;&lt; 1) XOR 0x1D              │
    │             else:                                       │
    │                 crc = (crc &lt;&lt; 1)                       │
    │     return crc XOR 0xFF     // Final inversion         │
    └────────────────────────────────────────────────────────┘
```text

### CRC Calculation Example

```text
    Example: Calculate CRC for write to GLOBAL_CONFIG
    
    Frame contents (before CRC):
      Address [23:17] = 0x01
      R/W [16]        = 1
      Data [15:0]     = 0x4005
      
    Bytes to CRC (bits [23:0] = 3 bytes):
      Byte 0: 0x02      (bits [23:16])
      Byte 1: 0x40      (bits [15:8])
      Byte 2: 0x05      (bits [7:0])
      
    Step-by-step:
      crc = 0xFF
      
      Process 0x02:
        crc = 0xFF XOR 0x02 = 0xFD
        [bit processing yields]
        crc = 0xC5
        
      Process 0x40:
        crc = 0xC5 XOR 0x40 = 0x85
        [bit processing yields]
        crc = 0x7A
        
      Process 0x05:
        crc = 0x7A XOR 0x05 = 0x7F
        [bit processing yields]
        crc = 0x23
        
      Final XOR:
        crc = 0x23 XOR 0xFF = 0xDC
        
    Result: CRC = 0xDC
    Complete frame: 0xDC024005
```text

## Communication Timing

### SPI Timing Diagram

```text
    CSN     ─────────┐                                         ┌──────
                     └─────────────────────────────────────────┘
                       tCSS                           tCSH
                     
    SCK     ─────────┐  ┌──┐  ┌──┐  ┌──┐  ┌──┐  ┌──┐  ┌──┐  ┌───────
                     │  │  │  │  │  │  │  │  │  │  │  │  │  │
                     └──┘  └──┘  └──┘  └──┘  └──┘  └──┘  └──┘
                      tSCKH tSCKL      32 clock cycles
                       
    SI/SO   ─────────┤ B31│ B30│ B29│ ... │ B2 │ B1 │ B0 ├──────
                     └────┴────┴────┴─────┴────┴────┴────┘
                      tSU  tH
    
    Timing Parameters:
    ┌────────────────────┬──────┬─────────┬──────┬──────┐
    │ Parameter          │ Min  │ Typical │ Max  │ Unit │
    ├────────────────────┼──────┼─────────┼──────┼──────┤
    │ tSCK (Clock period)│ 100  │   -     │  -   │  ns  │
    │ tCSS (CS setup)    │  50  │   -     │  -   │  ns  │
    │ tCSH (CS hold)     │  50  │   -     │  -   │  ns  │
    │ tSU (Data setup)   │  20  │   -     │  -   │  ns  │
    │ tH (Data hold)     │  20  │   -     │  -   │  ns  │
    │ tCSI (CS inactive) │ 100  │   -     │  -   │  ns  │
    └────────────────────┴──────┴─────────┴──────┴──────┘
```text

### Transaction Sequence

```text
    Complete Read/Write Sequence:

    Transaction 1: Write Command
    ───────────────────────────────────────────────────────────
    MCU → IC:  [WRITE CMD: 0xXX + CRC + ADDR + DATA]
    IC → MCU:  [RESPONSE: Previous register state]
    
    Transaction 2: Read Back (optional verify)
    ───────────────────────────────────────────────────────────
    MCU → IC:  [READ CMD: 0xXX + CRC + ADDR]
    IC → MCU:  [RESPONSE: Current register state]
    
    Timing:
    CSN  ┐   ┌───┐   ┌───
         └───┘   └───┘
          T1      T2
          
    Notes:
    - Response to write contains previous value
    - Read returns current value from addressed register
    - Minimum 100ns between transactions
```text

## Transaction Examples

### Example 1: Initialize Global Configuration

```text
    Objective: Enable CRC, watchdogs, 3.3V VIO
    
    Register: GLOBAL_CONFIG (0x0002)
    Value: 0x4005 (CLK_WD_EN | SPI_WD_EN | CRC_EN)
    
    Transaction Breakdown:
    ┌────────────────────────────────────────────────────────┐
    │ Step 1: Build MOSI frame                               │
    │   Address: 0x0002 → [23:17] = 0x00, [16] = 1 (write)  │
    │   Data: 0x4005                                         │
    │   Bytes for CRC: [0x02, 0x40, 0x05]                   │
    │   CRC: 0xDC (calculated)                               │
    │   Complete: 0xDC024005                                 │
    │                                                        │
    │ Step 2: SPI Transfer                                   │
    │   MOSI: 0xDC024005                                     │
    │   MISO: 0xXXXXXXXX (previous register value + status) │
    │                                                        │
    │ Step 3: Verify (optional)                              │
    │   Read back GLOBAL_CONFIG to confirm                   │
    └────────────────────────────────────────────────────────┘
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="example-2-read-channel-status">
  
  
    <a href="#example-2-read-channel-status" class="anchor-heading" aria-labelledby="example-2-read-channel-status"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example 2: Read Channel Status
  
  
</h3>
    

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre>    Objective: Read CH0 current setpoint
    
    Register: CH0_SETPOINT (0x0100)
    
    Transaction Breakdown:
    ┌────────────────────────────────────────────────────────┐
    │ Step 1: Build MOSI frame                               │
    │   Address: 0x0100 → [15:0] = 0x0100, [16] = 0 (read)  │
    │   Bytes for CRC: [0x00, 0x01, 0x00]                   │
    │   CRC: 0xXX (calculated)                               │
    │   Complete: 0xXX000100                                 │
    │                                                        │
    │ Step 2: SPI Transfer                                   │
    │   MOSI: 0xXX000100                                     │
    │   MISO: 0xYY000567 (register value = 0x0567)          │
    │           └─┬─┘                                        │
    │            CRC                                         │
    │                                                        │
    │ Step 3: Verify CRC &amp; Extract Data                      │
    │   Status [21:17]: Check for errors                     │
    │   Data [15:0]: 0x0567 = current setpoint              │
    └────────────────────────────────────────────────────────┘
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="example-3-error-handling">
  
  
    <a href="#example-3-error-handling" class="anchor-heading" aria-labelledby="example-3-error-handling"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example 3: Error Handling
  
  
</h3>
    

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre>    Scenario: Write to read-only register
    
    Transaction:
      MOSI: Write to ICVID (0x0200, read-only)
      MISO: Status = 0b00011 (Write to RO register)
      
    Response Handling:
    ┌────────────────────────────────────────────────────────┐
    │ Parse MISO frame:                                       │
    │   [31:24]: CRC → Verify                                │
    │   [23:22]: Reply Mode = 00 (normal)                    │
    │   [21:17]: Status = 0b00011 → ERROR!                   │
    │   [16]:    R/W echo                                     │
    │   [15:0]:  Undefined (ignore)                          │
    │                                                        │
    │ Error Response:                                         │
    │   - Retry not recommended                              │
    │   - Check register address                             │
    │   - Verify register is writable                        │
    └────────────────────────────────────────────────────────┘
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h2 id="best-practices">
  
  
    <a href="#best-practices" class="anchor-heading" aria-labelledby="best-practices"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Best Practices
  
  
</h2>
    
<h3 id="transaction-management">
  
  
    <a href="#transaction-management" class="anchor-heading" aria-labelledby="transaction-management"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Transaction Management
  
  
</h3>
    

<ol>
  <li>
    <p><strong>CRC Verification</strong>: Always verify outgoing CRC before transmission, verify
incoming CRC after reception, and reject frames with CRC mismatch.</p>
  </li>
  <li>
    <p><strong>Status Checking</strong>: After every transaction, parse the status field
<code class="language-plaintext highlighter-rouge">[21:17]</code>, handle errors appropriately, and log unexpected status codes.</p>
  </li>
  <li>
    <p><strong>Timing Compliance</strong>: Ensure the minimum CS inactive time is 100 ns,
maintain proper setup and hold times, and keep the clock frequency within
limits.</p>
  </li>
  <li>
    <p><strong>Error Recovery</strong>: On error, check the CRC first, verify the register
address, retry with exponential backoff (maximum three attempts), and reset
communication if the issue persists.</p>
  </li>
</ol>
<h3 id="performance-optimization">
  
  
    <a href="#performance-optimization" class="anchor-heading" aria-labelledby="performance-optimization"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Performance Optimization
  
  
</h3>
    

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre>Recommended SPI Frequency:
┌─────────────────────┬──────────────────────────────────┐
│ Application         │ Frequency                        │
├─────────────────────┼──────────────────────────────────┤
│ Debug/Development   │ 100-500 kHz (easier to debug)    │
│ Normal Operation    │ 1-2 MHz (good balance)           │
│ High Performance    │ 5-10 MHz (maximum throughput)    │
└─────────────────────┴──────────────────────────────────┘

Transaction Rate:
- 32 bits @ 1 MHz = 32 µs per transaction
- +100ns CS gap = ~33 µs total
- Max rate: ~30,000 transactions/second
</pre></td></tr></tbody></table></div></code></pre></div></div><hr />

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td><strong>Navigation</strong>: <a href="/hf-tle92466ed-driver/preview/docs/01_IC_Overview/">← IC Overview</a></td>
      <td><a href="/hf-tle92466ed-driver/preview/docs/03_Register_Map/">Next: Register Map →</a></td>
    </tr>
  </tbody>
</table></div>

          

          
            
          
        </main>
        

  <hr>
  <footer>
    

    <footer class="site-footer">
  <div class="site-footer-credits">
    <p>Built with ❤️ using <a href="https://just-the-docs.github.io/just-the-docs/">Just the Docs</a></p>
    <p><a href="https://github.com/n3b3x/hf-internal-interface-wrap/blob/main/LICENSE">GPL v3 License</a> • <a href="https://github.com/n3b3x/hf-internal-interface-wrap">View on GitHub</a></p>
  </div>
</footer>



    
  </footer>


      </div>
    </div>
    
      
<button id="search-button" class="search-button btn-reset" aria-label="Focus on search">
  <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-search"></use></svg>
</button>


<div class="search-overlay"></div>

    
  </div>

  
</body>
</html>

