

<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  <link rel="stylesheet" href="/hf-tle92466ed-driver/development/assets/css/just-the-docs-default.css">

  <link rel="stylesheet" href="/hf-tle92466ed-driver/development/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet">

  <style id="jtd-nav-activation">
  

    
    .site-nav > ul.nav-list:first-child > li:not(:nth-child(2)) > a,
    .site-nav > ul.nav-list:first-child > li > ul > li a {
      background-image: none;
    }

    .site-nav > ul.nav-list:not(:first-child) a,
    .site-nav li.external a {
      background-image: none;
    }

    .site-nav > ul.nav-list:first-child > li:nth-child(2) > a {
      font-weight: 600;
      text-decoration: none;
    }.site-nav > ul.nav-list:first-child > li:nth-child(2) > button svg {
      transform: rotate(-90deg);
    }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(2) > ul.nav-list {
      display: block;
    }
  </style>

  

  
    <script src="/hf-tle92466ed-driver/development/assets/js/vendor/lunr.min.js"></script>
  

  <script src="/hf-tle92466ed-driver/development/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  



  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Driver Integration Test Suite - TLE92466ED ESP32-C6 | HardFOC TLE92466ED Driver - development</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Driver Integration Test Suite - TLE92466ED ESP32-C6" />
<meta name="author" content="N3b3x" />
<meta property="og:locale" content="en" />
<meta name="description" content="C++23 driver for Infineon TLE92466ED Six-Channel Low-Side Solenoid Driver IC with comprehensive SPI interface, current control, and diagnostics" />
<meta property="og:description" content="C++23 driver for Infineon TLE92466ED Six-Channel Low-Side Solenoid Driver IC with comprehensive SPI interface, current control, and diagnostics" />
<link rel="canonical" href="https://n3b3x.github.io/hf-tle92466ed-driver/development/examples/esp32/docs/README_DRIVER_INTEGRATION_TEST.html" />
<meta property="og:url" content="https://n3b3x.github.io/hf-tle92466ed-driver/development/examples/esp32/docs/README_DRIVER_INTEGRATION_TEST.html" />
<meta property="og:site_name" content="HardFOC TLE92466ED Driver - development" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Driver Integration Test Suite - TLE92466ED ESP32-C6" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"N3b3x","url":"https://github.com/n3b3x"},"description":"C++23 driver for Infineon TLE92466ED Six-Channel Low-Side Solenoid Driver IC with comprehensive SPI interface, current control, and diagnostics","headline":"Driver Integration Test Suite - TLE92466ED ESP32-C6","url":"https://n3b3x.github.io/hf-tle92466ed-driver/development/examples/esp32/docs/README_DRIVER_INTEGRATION_TEST.html"}</script>
<!-- End Jekyll SEO tag -->


  <!-- =============================================================================
     Custom Head Content for HardFOC Driver Documentation
     =============================================================================
     This file is included in the <head> section of every page.
     It loads custom CSS and JavaScript for enhanced functionality.
     ============================================================================= -->

<!-- Custom CSS for enhanced styling and fixes -->
<link rel="stylesheet" href="/hf-tle92466ed-driver/development/assets/css/custom.css">

<!-- Custom JavaScript for interactive features -->
<script src="/hf-tle92466ed-driver/development/assets/js/custom.js" defer></script>



</head>

<body>
  <a class="skip-to-main" href="#main-content">Skip to main content</a>
  <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="svg-link" viewBox="0 0 24 24">
  <title>Link</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
  </svg>
</symbol>

  <symbol id="svg-menu" viewBox="0 0 24 24">
  <title>Menu</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
    <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
  </svg>
</symbol>

  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
  <title>Expand</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
    <polyline points="9 18 15 12 9 6"></polyline>
  </svg>
</symbol>

  <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE -->
<symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link">
  <title id="svg-external-link-title">(external link)</title>
  <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>
</symbol>

  
    <symbol id="svg-doc" viewBox="0 0 24 24">
  <title>Document</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
  </svg>
</symbol>

    <symbol id="svg-search" viewBox="0 0 24 24">
  <title>Search</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
  </svg>
</symbol>

  
  
    <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md -->
<symbol id="svg-copy" viewBox="0 0 16 16">
  <title>Copy</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
    <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
  </svg>
</symbol>
<symbol id="svg-copied" viewBox="0 0 16 16">
  <title>Copied</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16">
    <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/>
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/>
  </svg>
</symbol>

  
</svg>

  
    <div class="side-bar">
  <div class="site-header" role="banner">
    <a href="/hf-tle92466ed-driver/development/" class="site-title lh-tight">
  HardFOC TLE92466ED Driver - development

</a>
    <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false">
      <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg>
    </button>
  </div>

  <nav aria-label="Main" id="site-nav" class="site-nav">
  
  
    <ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in HardFOC TLE92466ED Driver category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-tle92466ed-driver/development/" class="nav-list-link">HardFOC TLE92466ED Driver</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in ğŸ“š Documentation category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-tle92466ed-driver/development/docs/" class="nav-list-link">ğŸ“š Documentation</a><ul class="nav-list"><li class="nav-list-item"><a href="/hf-tle92466ed-driver/development/docs/installation/" class="nav-list-link">ğŸ› ï¸ Installation</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/development/docs/quickstart/" class="nav-list-link">âš¡ Quick Start</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/development/docs/hardware_setup/" class="nav-list-link">ğŸ”Œ Hardware Setup</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/development/docs/platform_integration/" class="nav-list-link">ğŸ”§ Platform Integration</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/development/docs/configuration/" class="nav-list-link">âš™ï¸ Configuration</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/development/docs/api_reference/" class="nav-list-link">ğŸ“– API Reference</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/development/docs/examples/" class="nav-list-link">ğŸ’¡ Examples</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/development/docs/troubleshooting/" class="nav-list-link">ğŸ› Troubleshooting</a></li></ul></li></ul></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/development/examples/esp32/docs/README_DRIVER_INTEGRATION_TEST.html" class="nav-list-link">Driver Integration Test Suite - TLE92466ED ESP32-C6</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/development/examples/esp32/docs/README_CONFIGURATION.html" class="nav-list-link">ESP32 Examples Configuration Guide</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/development/examples/esp32/docs/README_SOLENOID_CONTROL_TEST.html" class="nav-list-link">Solenoid Control Test - TLE92466ED ESP32-C6</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/development/examples/esp32/components/hf_tle92466ed/" class="nav-list-link">TLE92466ED ESP-IDF Component</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/development/examples/esp32/docs/" class="nav-list-link">TLE92466ED ESP32 Examples Documentation</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/development/examples/esp32/" class="nav-list-link">TLE92466ED ESP32-C6 Examples</a></li><li class="nav-list-item"><a href="/hf-tle92466ed-driver/development/examples/esp32/docs/README_TEST_FRAMEWORK.html" class="nav-list-link">TLE92466ED Test Framework Documentation</a></li></ul>
  
</nav>




  
  
    <footer class="site-footer">
      This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
    </footer>
  
</div>

  
  <div class="main" id="top">
    <div id="main-header" class="main-header">
  
    

<div class="search" role="search">
  <div class="search-input-wrap">
    <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search HardFOC TLE92466ED Driver - development" aria-label="Search HardFOC TLE92466ED Driver - development" autocomplete="off">
    <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
  </div>
  <div id="search-results" class="search-results"></div>
</div>

  
  
  
    <nav aria-label="Auxiliary" class="aux-nav">
  <ul class="aux-nav-list">
    
      <li class="aux-nav-list-item">
        <a href="/hf-tle92466ed-driver/development/api/index.html" class="site-button"
          
        >
          ğŸ“– API Reference
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="https://github.com/n3b3x/hf-tle92466ed-driver" class="site-button"
          
        >
          ğŸ“š GitHub Repository
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="https://github.com/n3b3x/hf-tle92466ed-driver/issues" class="site-button"
          
        >
          ğŸ› Report Issues
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="https://github.com/n3b3x/hf-tle92466ed-driver/stargazers" class="site-button"
          
        >
          â­ Star on GitHub
        </a>
      </li>
    
  </ul>
</nav>

  
</div>

    <div class="main-content-wrap">
      
      <div id="main-content" class="main-content">
        <main>
          
            <h1 id="driver-integration-test-suite---tle92466ed-esp32-c6">
  
  
    <a href="#driver-integration-test-suite---tle92466ed-esp32-c6" class="anchor-heading" aria-labelledby="driver-integration-test-suite---tle92466ed-esp32-c6"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Driver Integration Test Suite - TLE92466ED ESP32-C6
  
  
</h1>
    
<h2 id="table-of-contents">
  
  
    <a href="#table-of-contents" class="anchor-heading" aria-labelledby="table-of-contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of Contents
  
  
</h2>
    

<ol>
  <li><a href="#overview">Overview</a></li>
  <li><a href="#purpose">Purpose</a></li>
  <li><a href="#test-framework-architecture">Test Framework Architecture</a></li>
  <li><a href="#test-suite-structure">Test Suite Structure</a></li>
  <li><a href="#hardware-setup">Hardware Setup</a></li>
  <li><a href="#configuration">Configuration</a></li>
  <li><a href="#building-and-running">Building and Running</a></li>
  <li><a href="#expected-output">Expected Output</a></li>
  <li><a href="#test-coverage">Test Coverage</a></li>
  <li><a href="#individual-test-details">Individual Test Details</a></li>
  <li><a href="#troubleshooting">Troubleshooting</a></li>
  <li><a href="#performance-characteristics">Performance Characteristics</a></li>
  <li><a href="#related-documentation">Related Documentation</a></li>
</ol><hr />
<h2 id="overview">
  
  
    <a href="#overview" class="anchor-heading" aria-labelledby="overview"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Overview
  
  
</h2>
    

<p>The <strong>Driver Integration Test Suite</strong> validates all functionality of the TLE92466ED driver without requiring actual solenoids or loads. This test suite provides API validation with <strong>40+ individual tests</strong> organized into <strong>13 test sections</strong>, covering all driver capabilities.</p>
<h3 id="key-features">
  
  
    <a href="#key-features" class="anchor-heading" aria-labelledby="key-features"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Key Features
  
  
</h3>
    

<ul>
  <li><strong>Complete API Coverage</strong>: Tests all public driver functions</li>
  <li><strong>No Hardware Required</strong>: Validates driver logic and SPI communication only</li>
  <li><strong>Test Framework</strong>: FreeRTOS task-based execution with automatic result tracking</li>
  <li><strong>GPIO14 Progress Indicator</strong>: Visual feedback on oscilloscope/logic analyzer</li>
  <li><strong>Telemetry Testing</strong>: Validates all status and diagnostic reading functions</li>
  <li><strong>Error Condition Testing</strong>: Verifies proper error handling and validation</li>
</ul><hr />
<h2 id="purpose">
  
  
    <a href="#purpose" class="anchor-heading" aria-labelledby="purpose"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Purpose
  
  
</h2>
    

<p>This test suite serves multiple purposes:</p>

<ol>
  <li><strong>Driver Validation</strong>: Ensures all driver APIs work correctly</li>
  <li><strong>Regression Testing</strong>: Detects breaking changes during development</li>
  <li><strong>CI/CD Integration</strong>: Automated testing in continuous integration pipelines</li>
  <li><strong>Documentation</strong>: Demonstrates proper usage of all driver functions</li>
  <li><strong>Development Aid</strong>: Helps developers understand driver capabilities</li>
  <li><strong>Quality Assurance</strong>: Validates driver behavior before hardware testing</li>
</ol>

<p><strong>Note</strong>: This test validates the driver and SPI communication but does not test actual solenoid operation. For real hardware testing with solenoids, use the <strong>Solenoid Control Test</strong>.</p><hr />
<h2 id="test-framework-architecture">
  
  
    <a href="#test-framework-architecture" class="anchor-heading" aria-labelledby="test-framework-architecture"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Test Framework Architecture
  
  
</h2>
    

<p>The test suite uses the <strong>TLE92466ED Test Framework</strong> (<code class="language-plaintext highlighter-rouge">TLE92466ED_TestFramework.hpp</code>), which provides:</p>
<h4 id="freertos-task-based-execution">
  
  
    <a href="#freertos-task-based-execution" class="anchor-heading" aria-labelledby="freertos-task-based-execution"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> FreeRTOS Task-Based Execution
  
  
</h4>
    
<ul>
  <li>Each test runs in isolated FreeRTOS task</li>
  <li>Custom stack size per test (8KB default)</li>
  <li>Automatic semaphore synchronization</li>
  <li>30-second timeout protection</li>
  <li>Fallback to inline execution on failure</li>
</ul>
<h4 id="gpio14-progress-indicator">
  
  
    <a href="#gpio14-progress-indicator" class="anchor-heading" aria-labelledby="gpio14-progress-indicator"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> GPIO14 Progress Indicator
  
  
</h4>
    
<ul>
  <li>Visual feedback on oscilloscope/logic analyzer</li>
  <li><strong>Toggle</strong>: HIGH/LOW on each test completion</li>
  <li><strong>Blink Pattern</strong>: 5 blinks at section start/end</li>
  <li>Hardware-level test progression tracking</li>
</ul>
<h4 id="automatic-result-tracking">
  
  
    <a href="#automatic-result-tracking" class="anchor-heading" aria-labelledby="automatic-result-tracking"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Automatic Result Tracking
  
  
</h4>
    
<ul>
  <li>Pass/fail counting</li>
  <li>Microsecond-precision execution timing</li>
  <li>Success rate calculation</li>
  <li>Summary reports</li>
</ul>
<h4 id="test-section-management">
  
  
    <a href="#test-section-management" class="anchor-heading" aria-labelledby="test-section-management"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Test Section Management
  
  
</h4>
    
<ul>
  <li>Compile-time section enable/disable</li>
  <li>Section-based organization</li>
  <li>Custom blink patterns per section</li>
  <li>Structured output formatting</li>
</ul><hr />
<h2 id="test-suite-structure">
  
  
    <a href="#test-suite-structure" class="anchor-heading" aria-labelledby="test-suite-structure"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Test Suite Structure
  
  
</h2>
    

<p>This integration test suite validates all functionality of the TLE92466ED driver. The suite includes <strong>13 test sections</strong> with <strong>40+ individual tests</strong> covering all driver APIs.</p>
<h3 id="test-sections">
  
  
    <a href="#test-sections" class="anchor-heading" aria-labelledby="test-sections"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Test Sections
  
  
</h3>
    
<h4 id="1-initialization_tests-define-enable_initialization_tests-1">
  
  
    <a href="#1-initialization_tests-define-enable_initialization_tests-1" class="anchor-heading" aria-labelledby="1-initialization_tests-define-enable_initialization_tests-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1. INITIALIZATION_TESTS (<code class="language-plaintext highlighter-rouge">#define ENABLE_INITIALIZATION_TESTS 1</code>)
  
  
</h4>
    
<p>Tests fundamental setup and communication:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">test_hal_initialization</code> - ESP32-C6 HAL setup and SPI configuration</li>
  <li><code class="language-plaintext highlighter-rouge">test_driver_initialization</code> - TLE92466ED driver instance creation</li>
  <li><code class="language-plaintext highlighter-rouge">test_chip_id</code> - SPI communication verification via chip ID</li>
  <li><code class="language-plaintext highlighter-rouge">test_ic_version</code> - IC version register reading</li>
  <li><code class="language-plaintext highlighter-rouge">test_device_verification</code> - Device ID verification</li>
</ul>
<h4 id="2-mode_control_tests-define-enable_mode_control_tests-1">
  
  
    <a href="#2-mode_control_tests-define-enable_mode_control_tests-1" class="anchor-heading" aria-labelledby="2-mode_control_tests-define-enable_mode_control_tests-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2. MODE_CONTROL_TESTS (<code class="language-plaintext highlighter-rouge">#define ENABLE_MODE_CONTROL_TESTS 1</code>)
  
  
</h4>
    
<p>Tests mode transitions and state management:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">test_enter_mission_mode</code> - Transition to Mission Mode</li>
  <li><code class="language-plaintext highlighter-rouge">test_enter_config_mode</code> - Transition to Config Mode</li>
  <li><code class="language-plaintext highlighter-rouge">test_mode_transitions</code> - Multiple mode transition cycles</li>
</ul>
<h4 id="3-global_configuration_tests-define-enable_global_config_tests-1">
  
  
    <a href="#3-global_configuration_tests-define-enable_global_config_tests-1" class="anchor-heading" aria-labelledby="3-global_configuration_tests-define-enable_global_config_tests-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3. GLOBAL_CONFIGURATION_TESTS (<code class="language-plaintext highlighter-rouge">#define ENABLE_GLOBAL_CONFIG_TESTS 1</code>)
  
  
</h4>
    
<p>Tests global device configuration:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">test_crc_control</code> - CRC enable/disable functionality</li>
  <li><code class="language-plaintext highlighter-rouge">test_vbat_thresholds</code> - VBAT UV/OV threshold configuration (high-level and raw APIs)</li>
  <li><code class="language-plaintext highlighter-rouge">test_global_configuration</code> - Complete global configuration</li>
</ul>
<h4 id="4-channel_control_tests-define-enable_channel_control_tests-1">
  
  
    <a href="#4-channel_control_tests-define-enable_channel_control_tests-1" class="anchor-heading" aria-labelledby="4-channel_control_tests-define-enable_channel_control_tests-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4. CHANNEL_CONTROL_TESTS (<code class="language-plaintext highlighter-rouge">#define ENABLE_CHANNEL_CONTROL_TESTS 1</code>)
  
  
</h4>
    
<p>Tests channel enable/disable and mode configuration:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">test_single_channel_control</code> - Single channel enable/disable</li>
  <li><code class="language-plaintext highlighter-rouge">test_all_channels_control</code> - All channels enable/disable</li>
  <li><code class="language-plaintext highlighter-rouge">test_channel_mask_control</code> - Channel mask-based control</li>
  <li><code class="language-plaintext highlighter-rouge">test_channel_mode_configuration</code> - All channel modes (OFF, ICC, Direct Drive, etc.)</li>
</ul>
<h4 id="5-current_control_tests-define-enable_current_control_tests-1">
  
  
    <a href="#5-current_control_tests-define-enable_current_control_tests-1" class="anchor-heading" aria-labelledby="5-current_control_tests-define-enable_current_control_tests-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5. CURRENT_CONTROL_TESTS (<code class="language-plaintext highlighter-rouge">#define ENABLE_CURRENT_CONTROL_TESTS 1</code>)
  
  
</h4>
    
<p>Tests current setpoint control:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">test_current_setpoint</code> - Current setting with read-back verification (100mA, 500mA, 1000mA, 1500mA, 2000mA)</li>
  <li><code class="language-plaintext highlighter-rouge">test_current_ramping</code> - Smooth 0â†’1000mAâ†’0mA transitions</li>
</ul>
<h4 id="6-pwm_configuration_tests-define-enable_pwm_config_tests-1">
  
  
    <a href="#6-pwm_configuration_tests-define-enable_pwm_config_tests-1" class="anchor-heading" aria-labelledby="6-pwm_configuration_tests-define-enable_pwm_config_tests-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6. PWM_CONFIGURATION_TESTS (<code class="language-plaintext highlighter-rouge">#define ENABLE_PWM_CONFIG_TESTS 1</code>)
  
  
</h4>
    
<p>Tests PWM period configuration:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">test_pwm_period_configuration</code> - High-level API (period in microseconds)</li>
  <li><code class="language-plaintext highlighter-rouge">test_pwm_period_raw</code> - Low-level API (mantissa, exponent, low_freq_range)</li>
</ul>
<h4 id="7-dither_configuration_tests-define-enable_dither_config_tests-1">
  
  
    <a href="#7-dither_configuration_tests-define-enable_dither_config_tests-1" class="anchor-heading" aria-labelledby="7-dither_configuration_tests-define-enable_dither_config_tests-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7. DITHER_CONFIGURATION_TESTS (<code class="language-plaintext highlighter-rouge">#define ENABLE_DITHER_CONFIG_TESTS 1</code>)
  
  
</h4>
    
<p>Tests dither configuration:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">test_dither_configuration</code> - High-level API (amplitude in mA, frequency in Hz)</li>
  <li><code class="language-plaintext highlighter-rouge">test_dither_raw</code> - Low-level API (step_size, num_steps, flat_steps)</li>
</ul>
<h4 id="8-diagnostics_tests-define-enable_diagnostics_tests-1">
  
  
    <a href="#8-diagnostics_tests-define-enable_diagnostics_tests-1" class="anchor-heading" aria-labelledby="8-diagnostics_tests-define-enable_diagnostics_tests-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8. DIAGNOSTICS_TESTS (<code class="language-plaintext highlighter-rouge">#define ENABLE_DIAGNOSTICS_TESTS 1</code>)
  
  
</h4>
    
<p>Tests diagnostics and monitoring:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">test_device_status</code> - Global device status reading</li>
  <li><code class="language-plaintext highlighter-rouge">test_channel_diagnostics</code> - Channel-specific diagnostics</li>
  <li><code class="language-plaintext highlighter-rouge">test_voltage_reading</code> - VBAT and VIO voltage reading</li>
  <li><code class="language-plaintext highlighter-rouge">test_current_reading</code> - Average current and duty cycle reading</li>
  <li><code class="language-plaintext highlighter-rouge">test_all_channels_telemetry</code> - Telemetry for all 6 channels</li>
  <li><code class="language-plaintext highlighter-rouge">test_device_telemetry</code> - Device telemetry</li>
  <li><code class="language-plaintext highlighter-rouge">test_telemetry_with_active_channel</code> - Telemetry with active channel</li>
</ul>
<h4 id="9-fault_management_tests-define-enable_fault_management_tests-1">
  
  
    <a href="#9-fault_management_tests-define-enable_fault_management_tests-1" class="anchor-heading" aria-labelledby="9-fault_management_tests-define-enable_fault_management_tests-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9. FAULT_MANAGEMENT_TESTS (<code class="language-plaintext highlighter-rouge">#define ENABLE_FAULT_MANAGEMENT_TESTS 1</code>)
  
  
</h4>
    
<p>Tests fault handling:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">test_fault_clearing</code> - Fault flag clearing</li>
  <li><code class="language-plaintext highlighter-rouge">test_software_reset</code> - Software reset functionality</li>
</ul>
<h4 id="10-watchdog_tests-define-enable_watchdog_tests-1">
  
  
    <a href="#10-watchdog_tests-define-enable_watchdog_tests-1" class="anchor-heading" aria-labelledby="10-watchdog_tests-define-enable_watchdog_tests-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10. WATCHDOG_TESTS (<code class="language-plaintext highlighter-rouge">#define ENABLE_WATCHDOG_TESTS 1</code>)
  
  
</h4>
    
<p>Tests watchdog functionality:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">test_spi_watchdog</code> - SPI watchdog reload with various values</li>
</ul>
<h4 id="11-gpio_control_tests-define-enable_gpio_control_tests-1">
  
  
    <a href="#11-gpio_control_tests-define-enable_gpio_control_tests-1" class="anchor-heading" aria-labelledby="11-gpio_control_tests-define-enable_gpio_control_tests-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11. GPIO_CONTROL_TESTS (<code class="language-plaintext highlighter-rouge">#define ENABLE_GPIO_CONTROL_TESTS 1</code>)
  
  
</h4>
    
<p>Tests GPIO pin control:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">test_gpio_control</code> - Reset, Enable, and Fault pin control</li>
</ul>
<h4 id="12-multi_channel_tests-define-enable_multi_channel_tests-1">
  
  
    <a href="#12-multi_channel_tests-define-enable_multi_channel_tests-1" class="anchor-heading" aria-labelledby="12-multi_channel_tests-define-enable_multi_channel_tests-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12. MULTI_CHANNEL_TESTS (<code class="language-plaintext highlighter-rouge">#define ENABLE_MULTI_CHANNEL_TESTS 1</code>)
  
  
</h4>
    
<p>Tests all channels individually:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">test_all_channels_individually</code> - All 6 channels tested with enable/disable and current control</li>
</ul>
<h4 id="13-parallel_operation_tests-define-enable_parallel_operation_tests-1">
  
  
    <a href="#13-parallel_operation_tests-define-enable_parallel_operation_tests-1" class="anchor-heading" aria-labelledby="13-parallel_operation_tests-define-enable_parallel_operation_tests-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13. PARALLEL_OPERATION_TESTS (<code class="language-plaintext highlighter-rouge">#define ENABLE_PARALLEL_OPERATION_TESTS 1</code>)
  
  
</h4>
    
<p>Tests parallel channel operation:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">test_parallel_operation</code> - Parallel pair configuration (CH0/CH3, CH1/CH2, CH4/CH5)</li>
</ul>
<h4 id="14-error_condition_tests-define-enable_error_condition_tests-1">
  
  
    <a href="#14-error_condition_tests-define-enable_error_condition_tests-1" class="anchor-heading" aria-labelledby="14-error_condition_tests-define-enable_error_condition_tests-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14. ERROR_CONDITION_TESTS (<code class="language-plaintext highlighter-rouge">#define ENABLE_ERROR_CONDITION_TESTS 1</code>)
  
  
</h4>
    
<p>Tests error handling and validation:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">test_error_conditions</code> - Wrong mode operations (should fail correctly)</li>
</ul>
<h3 id="test-function-signatures">
  
  
    <a href="#test-function-signatures" class="anchor-heading" aria-labelledby="test-function-signatures"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Test Function Signatures
  
  
</h3>
    

<p>All test functions follow this pattern:</p>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="k">static</span> <span class="kt">bool</span> <span class="n">test_function_name</span><span class="p">()</span> <span class="k">noexcept</span><span class="p">;</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>

<p><strong>Key Characteristics</strong>:</p>
<ul>
  <li>Return <code class="language-plaintext highlighter-rouge">bool</code> (true = passed, false = failed)</li>
  <li>Declared <code class="language-plaintext highlighter-rouge">noexcept</code> for embedded safety</li>
  <li>Self-contained and isolated</li>
  <li>Descriptive ESP_LOG output</li>
  <li>Proper error handling with <code class="language-plaintext highlighter-rouge">std::expected</code></li>
</ul><hr />
<h2 id="hardware-setup">
  
  
    <a href="#hardware-setup" class="anchor-heading" aria-labelledby="hardware-setup"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Hardware Setup
  
  
</h2>
    
<h3 id="required-components">
  
  
    <a href="#required-components" class="anchor-heading" aria-labelledby="required-components"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Required Components
  
  
</h3>
    

<ul>
  <li><strong>ESP32-C6-DevKitC-1</strong> development board</li>
  <li><strong>TLE92466ED</strong> evaluation board or custom PCB</li>
  <li><strong>5.5-41V power supply</strong> for VBAT (2A minimum) - <em>Note: VBAT not required for SPI communication, but recommended for complete testing. Typical: 12V or 24V automotive</em></li>
  <li><strong>3.0-5.5V power supply</strong> for VIO (I/O level supply) - <em>Required for SPI communication (sets I/O voltage levels). Typical: 3.3V or 5.0V</em></li>
  <li><strong>5V power supply</strong> for VDD (internal logic supply) - <em>Required for IC operation</em></li>
  <li><strong>Oscilloscope/Logic Analyzer</strong> (optional, for GPIO14 monitoring)</li>
  <li>Connecting wires</li>
</ul>
<h3 id="wiring-diagram">
  
  
    <a href="#wiring-diagram" class="anchor-heading" aria-labelledby="wiring-diagram"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Wiring Diagram
  
  
</h3>
    

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="rouge-code"><pre>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ESP32-C6      â”‚         â”‚   TLE92466ED     â”‚
â”‚                 â”‚         â”‚                  â”‚
â”‚  GPIO2  â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚  MISO            â”‚
â”‚  GPIO7  â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚  MOSI            â”‚
â”‚  GPIO6  â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚  SCLK            â”‚
â”‚  GPIO18 â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚  CS              â”‚
â”‚  GPIO21 â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚  RESN            â”‚
â”‚  GPIO20 â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚  EN              â”‚
â”‚  GPIO19 &lt;â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  FAULTN          â”‚
â”‚  GPIO14 â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚  [LED/Scope]    â”‚
â”‚                 â”‚         â”‚                  â”‚
â”‚  5V     â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚  VDD             â”‚
â”‚  3.3V   â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚  VIO             â”‚
â”‚  GND    â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚  GND             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚                 â”‚
                    External Supply      Test Load
                    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                    12-24V â”€â”€â”€â”€â”€â”€&gt; VBAT  OUT0 â”€â”€&gt; Load
                    GND   â”€â”€â”€â”€â”€â”€&gt; GND   GND  â”€â”€&gt; Return
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="complete-pin-configuration">
  
  
    <a href="#complete-pin-configuration" class="anchor-heading" aria-labelledby="complete-pin-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Complete Pin Configuration
  
  
</h3>
    

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>Function</th>
      <th>ESP32-C6 GPIO</th>
      <th>TLE92466ED Pin</th>
      <th>Configuration</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>SPI MISO</strong></td>
      <td>GPIO2</td>
      <td>MISO</td>
      <td>Input</td>
      <td>Data from TLE92466ED</td>
    </tr>
    <tr>
      <td><strong>SPI MOSI</strong></td>
      <td>GPIO7</td>
      <td>MOSI</td>
      <td>Output</td>
      <td>Data to TLE92466ED</td>
    </tr>
    <tr>
      <td><strong>SPI SCLK</strong></td>
      <td>GPIO6</td>
      <td>SCLK</td>
      <td>Output</td>
      <td>1MHz SPI Clock</td>
    </tr>
    <tr>
      <td><strong>SPI CS</strong></td>
      <td>GPIO18</td>
      <td>CS</td>
      <td>Output</td>
      <td>Active Low</td>
    </tr>
    <tr>
      <td><strong>RESN</strong></td>
      <td>GPIO21</td>
      <td>RESN</td>
      <td>Output</td>
      <td>Reset pin (active low)</td>
    </tr>
    <tr>
      <td><strong>EN</strong></td>
      <td>GPIO20</td>
      <td>EN</td>
      <td>Output</td>
      <td>Enable pin (active high)</td>
    </tr>
    <tr>
      <td><strong>FAULTN</strong></td>
      <td>GPIO19</td>
      <td>FAULTN</td>
      <td>Input</td>
      <td>Fault pin (active low)</td>
    </tr>
    <tr>
      <td><strong>Test Indicator</strong></td>
      <td>GPIO14</td>
      <td>-</td>
      <td>Output</td>
      <td>Progress indicator</td>
    </tr>
    <tr>
      <td><strong>VDD Supply</strong></td>
      <td>5V</td>
      <td>VDD</td>
      <td>Power</td>
      <td>5V (Required for IC operation)</td>
    </tr>
    <tr>
      <td><strong>VIO Supply</strong></td>
      <td>3.3V/5V</td>
      <td>VIO</td>
      <td>Power</td>
      <td>3.0-5.5V (Required for SPI)</td>
    </tr>
    <tr>
      <td><strong>Load Supply</strong></td>
      <td>External</td>
      <td>VBAT</td>
      <td>Power</td>
      <td>5.5-41V, 2A+ (Optional for SPI)</td>
    </tr>
    <tr>
      <td><strong>Ground</strong></td>
      <td>GND</td>
      <td>GND</td>
      <td>Ground</td>
      <td>Common reference</td>
    </tr>
  </tbody>
</table></div>
<h3 id="gpio14-test-indicator-setup">
  
  
    <a href="#gpio14-test-indicator-setup" class="anchor-heading" aria-labelledby="gpio14-test-indicator-setup"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> GPIO14 Test Indicator Setup
  
  
</h3>
    

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>ESP32-C6 GPIO14 â”€â”€â”¬â”€â”€ LED (Anode)
                  â”‚   â””â”€â”€ LED (Cathode) â”€â”€ 220Î© â”€â”€ GND
                  â”‚
                  â””â”€â”€ Oscilloscope/Logic Analyzer Probe
</pre></td></tr></tbody></table></div></code></pre></div></div>

<p><strong>Purpose</strong>: Visual and measurable feedback showing test progression</p>
<h3 id="power-supply-requirements">
  
  
    <a href="#power-supply-requirements" class="anchor-heading" aria-labelledby="power-supply-requirements"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Power Supply Requirements
  
  
</h3>
    

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td><td class="rouge-code"><pre>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Power Supply Requirements                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  VDD (Internal Logic Supply):                   â”‚
â”‚    â””â”€ 5V input to TLE92466ED                    â”‚
â”‚    â””â”€ Powers central logic of the IC            â”‚
â”‚    â””â”€ Required for IC operation                  â”‚
â”‚                                                 â”‚
â”‚  VIO (I/O Level Supply):                        â”‚
â”‚    â””â”€ 3.0V to 5.5V (input)                       â”‚
â”‚    â””â”€ Sets I/O voltage levels for SPI           â”‚
â”‚    â””â”€ Required for SPI communication             â”‚
â”‚    â””â”€ Typical: 3.3V or 5.0V                     â”‚
â”‚    â””â”€ Typical current: 10-20mA                  â”‚
â”‚                                                 â”‚
â”‚  VBAT (Load Supply):                            â”‚
â”‚    â””â”€ 5.5V to 41V (recommended operating)       â”‚
â”‚    â””â”€ Typical: 12V or 24V automotive            â”‚
â”‚    â””â”€ NOT required for SPI communication        â”‚
â”‚    â””â”€ Required for actual load operation        â”‚
â”‚    â””â”€ Typical: 2A+ per channel                   â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</pre></td></tr></tbody></table></div></code></pre></div></div>

<p><strong>Important</strong>: For this driver integration test, <strong>VBAT is not required</strong>. The test validates SPI communication and driver logic only. <strong>VDD is required</strong> (powers central logic). <strong>VIO is required for SPI communication</strong> (sets I/O voltage levels).</p><hr />
<h2 id="configuration">
  
  
    <a href="#configuration" class="anchor-heading" aria-labelledby="configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuration
  
  
</h2>
    
<h3 id="hardware-configuration-maintle92466ed_testconfighpp">
  
  
    <a href="#hardware-configuration-maintle92466ed_testconfighpp" class="anchor-heading" aria-labelledby="hardware-configuration-maintle92466ed_testconfighpp"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Hardware Configuration (<code class="language-plaintext highlighter-rouge">main/TLE92466ED_TestConfig.hpp</code>)
  
  
</h3>
    

<p>All hardware-specific settings are centralized:</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td class="rouge-code"><pre><span class="k">namespace</span> <span class="n">TLE92466ED_TestConfig</span> <span class="p">{</span>

<span class="k">struct</span> <span class="nc">SPIPins</span> <span class="p">{</span>
    <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint8_t</span> <span class="n">MISO</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>   <span class="c1">// GPIO2</span>
    <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint8_t</span> <span class="n">MOSI</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>   <span class="c1">// GPIO7</span>
    <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint8_t</span> <span class="n">SCLK</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>   <span class="c1">// GPIO6</span>
    <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint8_t</span> <span class="n">CS</span> <span class="o">=</span> <span class="mi">18</span><span class="p">;</span>    <span class="c1">// GPIO18</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="nc">ControlPins</span> <span class="p">{</span>
    <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint8_t</span> <span class="n">RESN</span> <span class="o">=</span> <span class="mi">21</span><span class="p">;</span>   <span class="c1">// GPIO21</span>
    <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint8_t</span> <span class="n">EN</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>     <span class="c1">// GPIO20</span>
    <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint8_t</span> <span class="n">FAULTN</span> <span class="o">=</span> <span class="mi">19</span><span class="p">;</span> <span class="c1">// GPIO19</span>
    <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint8_t</span> <span class="n">DRV0</span> <span class="o">=</span> <span class="mi">22</span><span class="p">;</span>   <span class="c1">// GPIO22</span>
    <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint8_t</span> <span class="n">DRV1</span> <span class="o">=</span> <span class="mi">23</span><span class="p">;</span>   <span class="c1">// GPIO23</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="nc">SPIParams</span> <span class="p">{</span>
    <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint32_t</span> <span class="n">FREQUENCY</span> <span class="o">=</span> <span class="mi">1000000</span><span class="p">;</span>  <span class="c1">// 1MHz</span>
    <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint8_t</span> <span class="n">MODE</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>              <span class="c1">// SPI Mode 1 (CPOL=0, CPHA=1)</span>
    <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint8_t</span> <span class="n">QUEUE_SIZE</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint8_t</span> <span class="n">CS_ENA_PRETRANS</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint8_t</span> <span class="n">CS_ENA_POSTTRANS</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">};</span>

<span class="p">}</span> <span class="c1">// namespace TLE92466ED_TestConfig</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>

<p><strong>To modify hardware settings</strong>: Edit <code class="language-plaintext highlighter-rouge">main/TLE92466ED_TestConfig.hpp</code></p>
<h3 id="test-configuration-maindriverintegrationtestcpp">
  
  
    <a href="#test-configuration-maindriverintegrationtestcpp" class="anchor-heading" aria-labelledby="test-configuration-maindriverintegrationtestcpp"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Test Configuration (<code class="language-plaintext highlighter-rouge">main/DriverIntegrationTest.cpp</code>)
  
  
</h3>
    

<p>Enable/disable test sections at compile time:</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="c1">// Enable/disable test sections (set to 0 to skip a section)</span>
<span class="cp">#define ENABLE_INITIALIZATION_TESTS 1
#define ENABLE_MODE_CONTROL_TESTS 1
#define ENABLE_GLOBAL_CONFIG_TESTS 1
#define ENABLE_CHANNEL_CONTROL_TESTS 1
#define ENABLE_CURRENT_CONTROL_TESTS 1
#define ENABLE_PWM_CONFIG_TESTS 1
#define ENABLE_DITHER_CONFIG_TESTS 1
#define ENABLE_DIAGNOSTICS_TESTS 1
#define ENABLE_FAULT_MANAGEMENT_TESTS 1
#define ENABLE_WATCHDOG_TESTS 1
#define ENABLE_GPIO_CONTROL_TESTS 1
#define ENABLE_MULTI_CHANNEL_TESTS 1
#define ENABLE_PARALLEL_OPERATION_TESTS 1
#define ENABLE_ERROR_CONDITION_TESTS 1
</span></pre></td></tr></tbody></table></div></code></pre></div></div>

<p><strong>To disable a section</strong>: Set to <code class="language-plaintext highlighter-rouge">0</code> and rebuild. This allows you to run only specific test categories during development or debugging.</p>
<h3 id="build-configuration-app_configyml">
  
  
    <a href="#build-configuration-app_configyml" class="anchor-heading" aria-labelledby="build-configuration-app_configyml"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Build Configuration (<code class="language-plaintext highlighter-rouge">app_config.yml</code>)
  
  
</h3>
    

<p>Application metadata and build settings:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="na">apps</span><span class="pi">:</span>
  <span class="na">driver_integration_test</span><span class="pi">:</span>
    <span class="na">description</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Comprehensive</span><span class="nv"> </span><span class="s">driver</span><span class="nv"> </span><span class="s">integration</span><span class="nv"> </span><span class="s">test</span><span class="nv"> </span><span class="s">suite</span><span class="nv"> </span><span class="s">(no</span><span class="nv"> </span><span class="s">hardware</span><span class="nv"> </span><span class="s">required)"</span>
    <span class="na">source_file</span><span class="pi">:</span> <span class="s2">"</span><span class="s">DriverIntegrationTest.cpp"</span>
    <span class="na">category</span><span class="pi">:</span> <span class="s2">"</span><span class="s">test"</span>
    <span class="na">idf_versions</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">release/v5.5"</span><span class="pi">]</span>
    <span class="na">build_types</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">Debug"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">Release"</span><span class="pi">]</span>
    <span class="na">ci_enabled</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">featured</span><span class="pi">:</span> <span class="no">true</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>

<p><strong>Note</strong>: This is for build metadata only. Hardware config is in <code class="language-plaintext highlighter-rouge">TLE92466ED_TestConfig.hpp</code>.</p><hr />
<h2 id="building-and-running">
  
  
    <a href="#building-and-running" class="anchor-heading" aria-labelledby="building-and-running"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Building and Running
  
  
</h2>
    
<h3 id="quick-start">
  
  
    <a href="#quick-start" class="anchor-heading" aria-labelledby="quick-start"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Quick Start
  
  
</h3>
    

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="nb">cd </span>examples/esp32

<span class="c"># Build the driver integration test</span>
./scripts/build_app.sh driver_integration_test Debug

<span class="c"># Flash to ESP32-C6</span>
./scripts/flash_app.sh driver_integration_test Debug

<span class="c"># Monitor output</span>
./scripts/monitor_app.sh driver_integration_test
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="manual-build">
  
  
    <a href="#manual-build" class="anchor-heading" aria-labelledby="manual-build"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Manual Build
  
  
</h3>
    

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="nb">cd </span>examples/esp32

<span class="c"># Set target</span>
idf.py set-target esp32c6

<span class="c"># Configure (optional)</span>
idf.py menuconfig

<span class="c"># Build with APP_TYPE=driver_integration_test</span>
idf.py <span class="nt">-DAPP_TYPE</span><span class="o">=</span>driver_integration_test build

<span class="c"># Flash</span>
idf.py <span class="nt">-p</span> /dev/ttyUSB0 flash

<span class="c"># Monitor</span>
idf.py <span class="nt">-p</span> /dev/ttyUSB0 monitor
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="build-targets">
  
  
    <a href="#build-targets" class="anchor-heading" aria-labelledby="build-targets"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Build Targets
  
  
</h3>
    

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># Debug build (optimized for debugging)</span>
idf.py <span class="nt">-DAPP_TYPE</span><span class="o">=</span>driver_integration_test <span class="nt">-DCMAKE_BUILD_TYPE</span><span class="o">=</span>Debug build

<span class="c"># Release build (optimized for performance)</span>
idf.py <span class="nt">-DAPP_TYPE</span><span class="o">=</span>driver_integration_test <span class="nt">-DCMAKE_BUILD_TYPE</span><span class="o">=</span>Release build
</pre></td></tr></tbody></table></div></code></pre></div></div><hr />
<h2 id="expected-output">
  
  
    <a href="#expected-output" class="anchor-heading" aria-labelledby="expected-output"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Expected Output
  
  
</h2>
    
<h3 id="test-header">
  
  
    <a href="#test-header" class="anchor-heading" aria-labelledby="test-header"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Test Header
  
  
</h3>
    

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre>â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         TLE92466ED DRIVER INTEGRATION TEST SUITE - ESP32-C6                 â•‘
â•‘                         HardFOC Core Drivers                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Target: esp32c6
ESP-IDF Version: v5.5.1

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ TLE92466ED TEST CONFIGURATION                                                
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Test sections will execute based on compile-time configuration              â•‘
â•‘ GPIO14 test progression indicator: ENABLED                                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="test-execution">
  
  
    <a href="#test-execution" class="anchor-heading" aria-labelledby="test-execution"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Test Execution
  
  
</h3>
    

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre>â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ SECTION: INITIALIZATION TESTS                                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[GPIO14: Blink pattern - 5 blinks]

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Running (task): hal_initialization                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (1234) TLE92466ED_Test: Creating HAL instance...
I (1235) Esp32TleComm: Esp32TleCommInterface created with SPI config
I (1236) Esp32TleComm:   MISO: GPIO2, MOSI: GPIO7, SCLK: GPIO6, CS: GPIO18
I (1237) Esp32TleComm:   Frequency: 1000000 Hz, Mode: 1
I (1238) TLE92466ED_Test: Initializing HAL...
I (1240) Esp32TleComm: Esp32TleCommInterface initialized successfully
I (1241) TLE92466ED_Test: âœ… HAL initialized successfully
[SUCCESS] PASSED (task): hal_initialization (12.34 ms)
Test task completed: hal_initialization
[GPIO14: Toggle HIGH]
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="test-results-summary">
  
  
    <a href="#test-results-summary" class="anchor-heading" aria-labelledby="test-results-summary"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Test Results Summary
  
  
</h3>
    

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre>â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                           TEST RESULTS SUMMARY                               â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  Total Tests:      40+                                                       â•‘
â•‘  Passed:           40+                                                       â•‘
â•‘  Failed:           0                                                         â•‘
â•‘  Success Rate:     100.00%                                                   â•‘
â•‘  Total Time:       ~10-15 seconds                                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

I (15000) TLE92466ED_Test: âœ… ALL TESTS PASSED! System will restart in 10 seconds...
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h3 id="gpio14-signal-pattern">
  
  
    <a href="#gpio14-signal-pattern" class="anchor-heading" aria-labelledby="gpio14-signal-pattern"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> GPIO14 Signal Pattern
  
  
</h3>
    

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre>Time    â”‚ GPIO14 â”‚ Event
â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
0ms     â”‚   LOW  â”‚ Boot
100ms   â”‚ BLINK  â”‚ Section start (5 blinks)
        â”‚   â†‘â†“   â”‚ 
200ms   â”‚  HIGH  â”‚ Test 1 complete
300ms   â”‚   LOW  â”‚ Test 2 complete
400ms   â”‚  HIGH  â”‚ Test 3 complete
500ms   â”‚ BLINK  â”‚ Section 2 start (5 blinks)
600ms   â”‚   LOW  â”‚ Test 4 complete
...
</pre></td></tr></tbody></table></div></code></pre></div></div><hr />
<h2 id="test-coverage">
  
  
    <a href="#test-coverage" class="anchor-heading" aria-labelledby="test-coverage"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Test Coverage
  
  
</h2>
    
<h3 id="complete-api-coverage">
  
  
    <a href="#complete-api-coverage" class="anchor-heading" aria-labelledby="complete-api-coverage"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Complete API Coverage
  
  
</h3>
    

<p>This test suite covers all TLE92466ED driver functionality:</p>
<h4 id="initialization--device-information">
  
  
    <a href="#initialization--device-information" class="anchor-heading" aria-labelledby="initialization--device-information"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Initialization &amp; Device Information
  
  
</h4>
    
<ul>
  <li>HAL initialization</li>
  <li>Driver initialization</li>
  <li>Chip ID reading</li>
  <li>IC version reading</li>
  <li>Device verification</li>
</ul>
<h4 id="mode-management">
  
  
    <a href="#mode-management" class="anchor-heading" aria-labelledby="mode-management"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Mode Management
  
  
</h4>
    
<ul>
  <li>Mission Mode entry/exit</li>
  <li>Config Mode entry/exit</li>
  <li>Mode transition validation</li>
</ul>
<h4 id="global-configuration">
  
  
    <a href="#global-configuration" class="anchor-heading" aria-labelledby="global-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Global Configuration
  
  
</h4>
    
<ul>
  <li>CRC enable/disable</li>
  <li>VBAT threshold configuration (high-level and raw)</li>
  <li>Complete global configuration</li>
</ul>
<h4 id="channel-control">
  
  
    <a href="#channel-control" class="anchor-heading" aria-labelledby="channel-control"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Channel Control
  
  
</h4>
    
<ul>
  <li>Single channel enable/disable</li>
  <li>All channels control</li>
  <li>Channel mask control</li>
  <li>Channel mode configuration (all modes)</li>
</ul>
<h4 id="current-control">
  
  
    <a href="#current-control" class="anchor-heading" aria-labelledby="current-control"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Current Control
  
  
</h4>
    
<ul>
  <li>Current setpoint setting (with read-back)</li>
  <li>Current ramping (smooth transitions)</li>
</ul>
<h4 id="pwm-configuration">
  
  
    <a href="#pwm-configuration" class="anchor-heading" aria-labelledby="pwm-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> PWM Configuration
  
  
</h4>
    
<ul>
  <li>High-level API (period in microseconds)</li>
  <li>Low-level API (mantissa, exponent, low_freq_range)</li>
</ul>
<h4 id="dither-configuration">
  
  
    <a href="#dither-configuration" class="anchor-heading" aria-labelledby="dither-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Dither Configuration
  
  
</h4>
    
<ul>
  <li>High-level API (amplitude in mA, frequency in Hz)</li>
  <li>Low-level API (step_size, num_steps, flat_steps)</li>
</ul>
<h4 id="diagnostics--monitoring">
  
  
    <a href="#diagnostics--monitoring" class="anchor-heading" aria-labelledby="diagnostics--monitoring"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Diagnostics &amp; Monitoring
  
  
</h4>
    
<ul>
  <li>Device status reading</li>
  <li>Channel diagnostics</li>
  <li>Voltage reading (VBAT, VIO)</li>
  <li>Current and duty cycle reading</li>
  <li><strong>Telemetry for all channels</strong></li>
  <li><strong>Device-level telemetry</strong></li>
  <li><strong>Telemetry with active channels</strong></li>
</ul>
<h4 id="fault-management">
  
  
    <a href="#fault-management" class="anchor-heading" aria-labelledby="fault-management"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Fault Management
  
  
</h4>
    
<ul>
  <li>Fault clearing</li>
  <li>Software reset</li>
</ul>
<h4 id="watchdog">
  
  
    <a href="#watchdog" class="anchor-heading" aria-labelledby="watchdog"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Watchdog
  
  
</h4>
    
<ul>
  <li>SPI watchdog reload</li>
</ul>
<h4 id="gpio-control">
  
  
    <a href="#gpio-control" class="anchor-heading" aria-labelledby="gpio-control"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> GPIO Control
  
  
</h4>
    
<ul>
  <li>Reset pin control</li>
  <li>Enable pin control</li>
  <li>Fault pin reading</li>
</ul>
<h4 id="multi-channel-operations">
  
  
    <a href="#multi-channel-operations" class="anchor-heading" aria-labelledby="multi-channel-operations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Multi-Channel Operations
  
  
</h4>
    
<ul>
  <li>All 6 channels individually tested</li>
</ul>
<h4 id="parallel-operation">
  
  
    <a href="#parallel-operation" class="anchor-heading" aria-labelledby="parallel-operation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Parallel Operation
  
  
</h4>
    
<ul>
  <li>Parallel pair configuration</li>
</ul>
<h4 id="error-handling">
  
  
    <a href="#error-handling" class="anchor-heading" aria-labelledby="error-handling"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Error Handling
  
  
</h4>
    
<ul>
  <li>Wrong mode operation validation</li>
  <li>Error condition testing</li>
</ul><hr />
<h2 id="individual-test-details">
  
  
    <a href="#individual-test-details" class="anchor-heading" aria-labelledby="individual-test-details"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Individual Test Details
  
  
</h2>
    
<h3 id="initialization-tests">
  
  
    <a href="#initialization-tests" class="anchor-heading" aria-labelledby="initialization-tests"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Initialization Tests
  
  
</h3>
    
<h4 id="test_hal_initialization">
  
  
    <a href="#test_hal_initialization" class="anchor-heading" aria-labelledby="test_hal_initialization"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_hal_initialization()</code>
  
  
</h4>
    

<p><strong>Purpose</strong>: Validate ESP32-C6 HAL creation and SPI initialization</p>

<p><strong>Operations</strong>:</p>
<ol>
  <li>Create Esp32TleCommInterface instance with configuration from <code class="language-plaintext highlighter-rouge">TLE92466ED_TestConfig.hpp</code></li>
  <li>Initialize SPI peripheral (SPI2_HOST)</li>
  <li>Configure GPIO pins for SPI</li>
  <li>Set up SPI parameters (1MHz, Mode 1)</li>
</ol>

<p><strong>Expected Result</strong>: âœ… PASS</p>
<ul>
  <li>HAL instance created successfully</li>
  <li>SPI bus initialized</li>
  <li>GPIO pins configured</li>
  <li>Ready for communication</li>
</ul>

<p><strong>Failure Modes</strong>:</p>
<ul>
  <li>SPI bus already initialized</li>
  <li>GPIO pins in use</li>
  <li>Invalid SPI configuration</li>
  <li>Hardware fault</li>
</ul><hr />
<h4 id="test_driver_initialization">
  
  
    <a href="#test_driver_initialization" class="anchor-heading" aria-labelledby="test_driver_initialization"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_driver_initialization()</code>
  
  
</h4>
    

<p><strong>Purpose</strong>: Create TLE92466ED driver instance and initialize IC</p>

<p><strong>Operations</strong>:</p>
<ol>
  <li>Create TLE92466ED driver instance with HAL reference</li>
  <li>Execute driver initialization sequence</li>
  <li>Configure TLE92466ED registers</li>
  <li>Set up default parameters</li>
</ol>

<p><strong>Expected Result</strong>: âœ… PASS</p>
<ul>
  <li>Driver instance created</li>
  <li>IC initialized successfully</li>
  <li>Registers configured</li>
  <li>Ready for operations</li>
</ul>

<p><strong>Failure Modes</strong>:</p>
<ul>
  <li>HAL not initialized</li>
  <li>SPI communication failure</li>
  <li>TLE92466ED not powered (VIO required for SPI)</li>
  <li>IC initialization timeout</li>
</ul><hr />
<h3 id="telemetry-tests">
  
  
    <a href="#telemetry-tests" class="anchor-heading" aria-labelledby="telemetry-tests"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Telemetry Tests
  
  
</h3>
    
<h4 id="test_all_channels_telemetry">
  
  
    <a href="#test_all_channels_telemetry" class="anchor-heading" aria-labelledby="test_all_channels_telemetry"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_all_channels_telemetry()</code>
  
  
</h4>
    

<p><strong>Purpose</strong>: Test telemetry reading for all 6 channels</p>

<p><strong>Operations</strong>:</p>
<ol>
  <li>Iterate through all channels (CH0-CH5)</li>
  <li>For each channel, test:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">GetCurrentSetpoint()</code> - Read current setpoint</li>
      <li><code class="language-plaintext highlighter-rouge">GetAverageCurrent()</code> - Read average current</li>
      <li><code class="language-plaintext highlighter-rouge">GetDutyCycle()</code> - Read PWM duty cycle</li>
      <li><code class="language-plaintext highlighter-rouge">GetChannelDiagnostics()</code> - Read complete diagnostics</li>
    </ul>
  </li>
  <li>Report faults and warnings</li>
</ol>

<p><strong>Expected Result</strong>: âœ… PASS</p>
<ul>
  <li>All telemetry functions work for all channels</li>
  <li>Values read successfully (may be 0 if channels not enabled)</li>
</ul>

<p><strong>Telemetry Data Read</strong>:</p>
<ul>
  <li>Current setpoint (mA)</li>
  <li>Average current (mA)</li>
  <li>Duty cycle (raw 16-bit value)</li>
  <li>Diagnostics (faults, warnings, min/max current)</li>
</ul><hr />
<h4 id="test_device_telemetry">
  
  
    <a href="#test_device_telemetry" class="anchor-heading" aria-labelledby="test_device_telemetry"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_device_telemetry()</code>
  
  
</h4>
    

<p><strong>Purpose</strong>: Test device-level telemetry reading</p>

<p><strong>Operations</strong>:</p>
<ol>
  <li>Read device status (<code class="language-plaintext highlighter-rouge">GetDeviceStatus()</code>)</li>
  <li>Read VBAT voltage (<code class="language-plaintext highlighter-rouge">GetVbatVoltage()</code>)</li>
  <li>Read VIO voltage (<code class="language-plaintext highlighter-rouge">GetVioVoltage()</code>)</li>
  <li>Read fault pin status (<code class="language-plaintext highlighter-rouge">IsFault()</code>)</li>
</ol>

<p><strong>Expected Result</strong>: âœ… PASS</p>
<ul>
  <li>All device telemetry functions work</li>
  <li>Status information displayed</li>
  <li>Voltage readings obtained</li>
</ul>

<p><strong>Telemetry Data Read</strong>:</p>
<ul>
  <li>Device mode (Config/Mission)</li>
  <li>Initialization status</li>
  <li>Fault conditions</li>
  <li>Supply voltages (VBAT, VIO)</li>
  <li>Fault pin state</li>
</ul><hr />
<h4 id="test_telemetry_with_active_channel">
  
  
    <a href="#test_telemetry_with_active_channel" class="anchor-heading" aria-labelledby="test_telemetry_with_active_channel"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_telemetry_with_active_channel()</code>
  
  
</h4>
    

<p><strong>Purpose</strong>: Test telemetry with an active channel (enabled with current set)</p>

<p><strong>Operations</strong>:</p>
<ol>
  <li>Enter Mission Mode</li>
  <li>Enable outputs (EN pin)</li>
  <li>Set current setpoint to 500mA</li>
  <li>Enable channel</li>
  <li>Wait for current to stabilize (500ms)</li>
  <li>Read all telemetry:
    <ul>
      <li>Current setpoint</li>
      <li>Average current</li>
      <li>Duty cycle</li>
      <li>Complete diagnostics</li>
    </ul>
  </li>
  <li>Verify values are reasonable</li>
  <li>Disable channel</li>
</ol>

<p><strong>Expected Result</strong>: âœ… PASS</p>
<ul>
  <li>All telemetry functions work with active channel</li>
  <li>Current setpoint matches set value</li>
  <li>Average current is measured</li>
  <li>Duty cycle is non-zero</li>
  <li>Diagnostics show channel is active</li>
</ul>

<p><strong>Telemetry Validation</strong>:</p>
<ul>
  <li>Setpoint matches configured value</li>
  <li>Average current is within reasonable range</li>
  <li>Duty cycle reflects current regulation</li>
  <li>No unexpected faults</li>
</ul><hr />
<h3 id="mode-control-tests">
  
  
    <a href="#mode-control-tests" class="anchor-heading" aria-labelledby="mode-control-tests"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Mode Control Tests
  
  
</h3>
    
<h4 id="test_mode_transitions">
  
  
    <a href="#test_mode_transitions" class="anchor-heading" aria-labelledby="test_mode_transitions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_mode_transitions()</code>
  
  
</h4>
    

<p><strong>Purpose</strong>: Validate mode transitions work correctly</p>

<p><strong>Operations</strong>:</p>
<ol>
  <li>Perform 3 cycles of Config â†’ Mission â†’ Config transitions</li>
  <li>Verify mode state after each transition</li>
  <li>Ensure no errors occur</li>
</ol>

<p><strong>Expected Result</strong>: âœ… PASS</p>
<ul>
  <li>All mode transitions succeed</li>
  <li>Mode state is correct after each transition</li>
  <li>No communication errors</li>
</ul><hr />
<h3 id="error-condition-tests">
  
  
    <a href="#error-condition-tests" class="anchor-heading" aria-labelledby="error-condition-tests"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Error Condition Tests
  
  
</h3>
    
<h4 id="test_error_conditions">
  
  
    <a href="#test_error_conditions" class="anchor-heading" aria-labelledby="test_error_conditions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_error_conditions()</code>
  
  
</h4>
    

<p><strong>Purpose</strong>: Verify proper error handling</p>

<p><strong>Operations</strong>:</p>
<ol>
  <li>Try to enable channel in Config Mode (should fail)</li>
  <li>Try to configure channel mode in Mission Mode (should fail)</li>
  <li>Try to configure global settings in Mission Mode (should fail)</li>
  <li>Verify all operations correctly return errors</li>
</ol>

<p><strong>Expected Result</strong>: âœ… PASS</p>
<ul>
  <li>All invalid operations correctly rejected</li>
  <li>Appropriate error codes returned</li>
  <li>No crashes or undefined behavior</li>
</ul><hr />
<h2 id="troubleshooting">
  
  
    <a href="#troubleshooting" class="anchor-heading" aria-labelledby="troubleshooting"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Troubleshooting
  
  
</h2>
    
<h3 id="common-issues">
  
  
    <a href="#common-issues" class="anchor-heading" aria-labelledby="common-issues"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Common Issues
  
  
</h3>
    
<h4 id="1-all-tests-fail-">
  
  
    <a href="#1-all-tests-fail-" class="anchor-heading" aria-labelledby="1-all-tests-fail-"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1. All Tests Fail âŒ
  
  
</h4>
    

<p><strong>Symptom</strong>: Every test returns FAILED</p>

<p><strong>Root Causes</strong>:</p>
<ul>
  <li>TLE92466ED not powered (check VIO: 3.0-5.5V, typical 3.3V or 5.0V)</li>
  <li>SPI wiring incorrect</li>
  <li>Common ground missing</li>
  <li>ESP32-C6 not programmed correctly</li>
</ul>

<p><strong>Solutions</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="c"># Check wiring</span>
- VIO: 3.0-5.5V present <span class="o">(</span>REQUIRED <span class="k">for </span>SPI, typical 3.3V or 5.0V<span class="o">)</span>
- GND: Common ground between ESP32-C6, TLE92466ED
- SPI pins: MISO, MOSI, SCLK, CS connected correctly
- RESN: Must be HIGH <span class="o">(</span>not <span class="k">in </span>reset<span class="o">)</span>

<span class="c"># Re-flash</span>
idf.py <span class="nt">-p</span> /dev/ttyUSB0 erase-flash
idf.py <span class="nt">-p</span> /dev/ttyUSB0 flash
</pre></td></tr></tbody></table></div></code></pre></div></div><hr />
<h4 id="2-hal-initialization-fails-">
  
  
    <a href="#2-hal-initialization-fails-" class="anchor-heading" aria-labelledby="2-hal-initialization-fails-"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2. HAL Initialization Fails âŒ
  
  
</h4>
    

<p><strong>Symptom</strong>: <code class="language-plaintext highlighter-rouge">test_hal_initialization</code> fails</p>

<p><strong>Root Causes</strong>:</p>
<ul>
  <li>SPI2 bus already in use</li>
  <li>GPIO pins conflicting</li>
  <li>Invalid SPI configuration</li>
</ul>

<p><strong>Solutions</strong>:</p>
<ol>
  <li>Check <code class="language-plaintext highlighter-rouge">sdkconfig</code> for SPI conflicts</li>
  <li>Verify GPIO pins are not used elsewhere</li>
  <li>Try different GPIO pins (modify <code class="language-plaintext highlighter-rouge">TLE92466ED_TestConfig.hpp</code>)</li>
  <li>Check ESP32-C6 hardware</li>
</ol><hr />
<h4 id="3-driver-initialization-fails-">
  
  
    <a href="#3-driver-initialization-fails-" class="anchor-heading" aria-labelledby="3-driver-initialization-fails-"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3. Driver Initialization Fails âŒ
  
  
</h4>
    

<p><strong>Symptom</strong>: <code class="language-plaintext highlighter-rouge">test_driver_initialization</code> fails</p>

<p><strong>Root Causes</strong>:</p>
<ul>
  <li>SPI communication not working</li>
  <li>TLE92466ED not responding</li>
  <li>Power supply issue (VIO required for SPI)</li>
</ul>

<p><strong>Solutions</strong>:</p>
<ol>
  <li>Verify SPI with logic analyzer/oscilloscope</li>
  <li>Check VIO voltage (must be 3.0V to 5.5V, typical 3.3V or 5.0V)</li>
  <li>Check VBAT voltage if testing with loads (5.5V to 41V, typical 12V or 24V)</li>
  <li>Verify RESN pin is HIGH (not in reset)</li>
  <li>Verify TLE92466ED is not damaged</li>
  <li>Check VDD voltage (must be 5V) - powers central logic of the IC</li>
  <li>Check VIO voltage (must be 3.0V to 5.5V, typical 3.3V or 5.0V) - sets SPI I/O levels</li>
</ol><hr />
<h4 id="4-telemetry-tests-fail-ï¸">
  
  
    <a href="#4-telemetry-tests-fail-ï¸" class="anchor-heading" aria-labelledby="4-telemetry-tests-fail-ï¸"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4. Telemetry Tests Fail âš ï¸
  
  
</h4>
    

<p><strong>Symptom</strong>: Telemetry reading functions fail</p>

<p><strong>Root Causes</strong>:</p>
<ul>
  <li>Channels not enabled (expected for some tests)</li>
  <li>Device not in correct mode</li>
  <li>Register read errors</li>
</ul>

<p><strong>Solutions</strong>:</p>
<ol>
  <li>Check if test expects channels to be enabled</li>
  <li>Verify device is in correct mode (Config vs Mission)</li>
  <li>Check SPI communication is working</li>
  <li>Some telemetry failures are expected if channels are disabled</li>
</ol><hr />
<h2 id="performance-characteristics">
  
  
    <a href="#performance-characteristics" class="anchor-heading" aria-labelledby="performance-characteristics"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Performance Characteristics
  
  
</h2>
    
<h3 id="typical-execution-times">
  
  
    <a href="#typical-execution-times" class="anchor-heading" aria-labelledby="typical-execution-times"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Typical Execution Times
  
  
</h3>
    

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>Test Section</th>
      <th>Expected Time</th>
      <th>Max Time</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Initialization Tests</td>
      <td>50-100 ms</td>
      <td>200 ms</td>
    </tr>
    <tr>
      <td>Mode Control Tests</td>
      <td>30-50 ms</td>
      <td>100 ms</td>
    </tr>
    <tr>
      <td>Global Configuration Tests</td>
      <td>200-300 ms</td>
      <td>500 ms</td>
    </tr>
    <tr>
      <td>Channel Control Tests</td>
      <td>500-800 ms</td>
      <td>1500 ms</td>
    </tr>
    <tr>
      <td>Current Control Tests</td>
      <td>2000-3000 ms</td>
      <td>5000 ms</td>
    </tr>
    <tr>
      <td>PWM Configuration Tests</td>
      <td>300-500 ms</td>
      <td>1000 ms</td>
    </tr>
    <tr>
      <td>Dither Configuration Tests</td>
      <td>300-500 ms</td>
      <td>1000 ms</td>
    </tr>
    <tr>
      <td>Diagnostics Tests</td>
      <td>1000-1500 ms</td>
      <td>3000 ms</td>
    </tr>
    <tr>
      <td>Fault Management Tests</td>
      <td>100-200 ms</td>
      <td>400 ms</td>
    </tr>
    <tr>
      <td>Watchdog Tests</td>
      <td>200-300 ms</td>
      <td>500 ms</td>
    </tr>
    <tr>
      <td>GPIO Control Tests</td>
      <td>200-300 ms</td>
      <td>500 ms</td>
    </tr>
    <tr>
      <td>Multi-Channel Tests</td>
      <td>2000-3000 ms</td>
      <td>5000 ms</td>
    </tr>
    <tr>
      <td>Parallel Operation Tests</td>
      <td>300-500 ms</td>
      <td>1000 ms</td>
    </tr>
    <tr>
      <td>Error Condition Tests</td>
      <td>100-200 ms</td>
      <td>400 ms</td>
    </tr>
    <tr>
      <td><strong>Total Suite</strong></td>
      <td><strong>~10-15 seconds</strong></td>
      <td><strong>~30 seconds</strong></td>
    </tr>
  </tbody>
</table></div>
<h3 id="memory-usage">
  
  
    <a href="#memory-usage" class="anchor-heading" aria-labelledby="memory-usage"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Memory Usage
  
  
</h3>
    

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>Resource</th>
      <th>Usage</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Flash</strong></td>
      <td>~350KB</td>
      <td>Driver + HAL + test framework</td>
    </tr>
    <tr>
      <td><strong>RAM (static)</strong></td>
      <td>~15KB</td>
      <td>Driver instance + buffers</td>
    </tr>
    <tr>
      <td><strong>Stack (per task)</strong></td>
      <td>8KB</td>
      <td>Configurable in <code class="language-plaintext highlighter-rouge">RUN_TEST_IN_TASK</code></td>
    </tr>
    <tr>
      <td><strong>Heap (dynamic)</strong></td>
      <td>~5KB</td>
      <td>HAL instance + std::unique_ptr</td>
    </tr>
  </tbody>
</table></div>
<h3 id="spi-performance">
  
  
    <a href="#spi-performance" class="anchor-heading" aria-labelledby="spi-performance"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> SPI Performance
  
  
</h3>
    

<ul>
  <li><strong>Clock Frequency</strong>: 1MHz (datasheet range: 0.1MHz - 10MHz)</li>
  <li><strong>Transaction Time</strong>: ~32Î¼s per 32-bit frame</li>
  <li><strong>Register Read</strong>: ~100Î¼s (including overhead)</li>
  <li><strong>Register Write</strong>: ~80Î¼s (including overhead)</li>
</ul><hr />
<h2 id="related-documentation">
  
  
    <a href="#related-documentation" class="anchor-heading" aria-labelledby="related-documentation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Related Documentation
  
  
</h2>
    
<h3 id="esp32-examples">
  
  
    <a href="#esp32-examples" class="anchor-heading" aria-labelledby="esp32-examples"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ESP32 Examples
  
  
</h3>
    
<ul>
  <li><a href="readme_solenoid_control_test.md">Solenoid Control Test</a> - Real hardware solenoid testing</li>
  <li><a href="../main/TLE92466ED_TestFramework.hpp">Test Framework Reference</a> - Framework API</li>
  <li><a href="../main/TLE92466ED_TestConfig.hpp">Hardware Configuration</a> - Pin and parameter config</li>
  <li><a href="../main/Esp32TleCommInterface.hpp">ESP32-C6 CommInterface</a> - CommInterface implementation details</li>
</ul>
<h3 id="driver-documentation">
  
  
    <a href="#driver-documentation" class="anchor-heading" aria-labelledby="driver-documentation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Driver Documentation
  
  
</h3>
    
<ul>
  <li><a href="../../../docs/07_Driver_API.md">Driver API Reference</a> - Complete API documentation</li>
  <li><a href="../../../docs/08_HAL_Implementation.md">CommInterface Implementation Guide</a> - Porting to new platforms</li>
  <li><a href="../../../docs/03_Register_Map.md">Register Map</a> - TLE92466ED register details</li>
  <li><a href="../../../docs/06_Diagnostics.md">Diagnostics</a> - Fault detection and handling</li>
</ul>
<h3 id="build-system">
  
  
    <a href="#build-system" class="anchor-heading" aria-labelledby="build-system"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Build System
  
  
</h3>
    
<ul>
  <li><a href="/hf-tle92466ed-driver/development/examples/esp32/app_config.yml">App Configuration</a> - Build metadata</li>
  <li><a href="/hf-tle92466ed-driver/development/examples/esp32/CMakeLists.txt">CMake Setup</a> - Build system configuration</li>
  <li><a href="../components/hf_tle92466ed/">Component Structure</a> - ESP-IDF component</li>
</ul><hr />
<h2 id="notes">
  
  
    <a href="#notes" class="anchor-heading" aria-labelledby="notes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Notes
  
  
</h2>
    

<ul>
  <li>This test suite is designed to validate driver functionality without requiring actual solenoids</li>
  <li>All tests are independent and can be enabled/disabled individually</li>
  <li>The suite validates both high-level and low-level APIs</li>
  <li>Error conditions are tested to ensure proper validation</li>
  <li>The suite covers all driver functionality</li>
  <li>Test execution time depends on enabled sections (typically 10-15 seconds for full suite)</li>
  <li><strong>VBAT is not required</strong> for this test - only VDD and VIO are needed for SPI communication</li>
</ul><hr />

<p><strong>Example</strong>: Driver Integration Test Suite<br />
<strong>Platform</strong>: ESP32-C6<br />
<strong>Framework</strong>: FreeRTOS + Test Framework<br />
<strong>Test Sections</strong>: 13<br />
<strong>Total Tests</strong>: 40+<br />
<strong>Status</strong>: âœ… Production Ready<br />
<strong>Hardware Required</strong>: TLE92466ED IC (no solenoids needed)</p>

          

          
            
          
        </main>
        

  <hr>
  <footer>
    

    <!-- =============================================================================
     Custom Footer Content for HardFOC Driver Documentation
     =============================================================================
     This footer is displayed at the bottom of every page.
     ============================================================================= -->

<footer class="site-footer">
  <div class="site-footer-credits">
    <p>Built with â¤ï¸ using <a href="https://just-the-docs.github.io/just-the-docs/">Just the Docs</a></p>
    <p>
      <a href="https://github.com/n3b3x/hf-tle92466ed-driver/development/blob/main/LICENSE">GPL v3 License</a> â€¢ 
      <a href="https://github.com/n3b3x/hf-tle92466ed-driver/development">View on GitHub</a>
    </p>
  </div>
</footer>



    
  </footer>


      </div>
    </div>
    
      
<button id="search-button" class="search-button btn-reset" aria-label="Focus on search">
  <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-search"></use></svg>
</button>


<div class="search-overlay"></div>

    
  </div>

  
</body>
</html>

